(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,a,t){},104:function(e,a,t){},106:function(e,a,t){},110:function(e,a,t){},112:function(e,a,t){},114:function(e,a,t){},117:function(e,a,t){},120:function(e,a,t){},122:function(e,a,t){},125:function(e,a,t){},128:function(e,a,t){},131:function(e,a,t){},133:function(e,a,t){},135:function(e,a,t){},137:function(e,a,t){},139:function(e,a,t){},141:function(e,a,t){},144:function(e,a,t){},150:function(e,a,t){},154:function(e,a,t){},158:function(e,a,t){},161:function(e,a,t){},164:function(e,a,t){},167:function(e,a,t){},171:function(e,a,t){},173:function(e,a,t){},176:function(e,a,t){},179:function(e,a,t){},182:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(22),c=t.n(l),s=(t(63),t(65),t(34),t(27),t(67),t(4)),i=t(5),o=t(6),m=t(7),d=t(8),u=(t(68),t(185)),h=t(186),p=t(184),E=t(12),v=t(29),g=t.n(v),b=t(11),f=t.n(b),N=function(e){e?f.a.defaults.headers.common.Authorization=e:delete f.a.defaults.headers.common.Authorization},w=function(e){return{type:"SET_CURRENT_USER",payload:e}},y=function(){return function(e){localStorage.removeItem("jwtToken"),N(!1),e(w({}))}},k=t(21),O=t(54),_=t(55),j=t(9),C=function(e){return void 0===e||null===e||"object"===Object(j.a)(e)&&0===Object.keys(e).length||"String"===typeof e&&0===e.trim().length},D={isAuthenticated:!1,user:{}},S={},F=Object(k.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_CURRENT_USER":return Object(_.a)({},e,{isAuthenticated:!C(a.payload),user:a.payload});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_ERRORS":return a.payload;default:return e}}}),P=[O.a],x=Object(k.e)(F,{},Object(k.d)(k.a.apply(void 0,P))),A=t(23),M=t(10),L=t(2),R=(t(97),t(187));function T(e,a,t){var n=this;f.a.get("/api/menus/"+t).then(function(t){var r;console.log("get ",e),n.setState((r={},Object(M.a)(r,e,t.data),Object(M.a)(r,a,!0),r))}).then(function(){console.log("allmenus ",n.state[e])})}function I(e,a,t){var n=this;f.a.get("/api/packages/"+t).then(function(t){var r;console.log("api get package"),n.setState((r={},Object(M.a)(r,e,t.data),Object(M.a)(r,a,!0),r)),console.log("set ",n.state[e])}).then(function(){console.log("package ",n.state[e])})}function U(e,a){var t=this;f.a.get("/api/users/profile").then(function(n){var r;console.log("get profile"),t.setState((r={},Object(M.a)(r,e,n.data),Object(M.a)(r,a,!0),r))}).then(function(){console.log("user ",t.state[e])})}function G(e,a){f.a.put("/api/orders/add/"+e,a).then(function(e){console.log("add to cart",e)})}function B(e,a){f.a.delete("/api/"+e+"/del/"+a).then(function(e){return console.log("delete",e)})}var H=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={name:"",price:"",calories:"",protein:"",carbohydrate:"",fat:"",img:null,description:"",sodium:"",cholesterol:"",status:0,file:"",imagePreviewUrl:""},t.handleChange=t.handleChange.bind(Object(L.a)(Object(L.a)(t))),t.handleSubmit=t.handleSubmit.bind(Object(L.a)(Object(L.a)(t))),t.handleChangeImage=t.handleChangeImage.bind(Object(L.a)(Object(L.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"renderRedirect",value:function(){return window.location.href="/add/"+this.props.redirect}},{key:"componentDidMount",value:function(){if(!this.props.auth.user.type)return this.props.history.push("/")}},{key:"componentWillReceiveProps",value:function(e){if(!e.auth.user.type)return this.props.history.push("/")}},{key:"handleChange",value:function(e){this.setState(Object(M.a)({},e.target.name,e.target.value))}},{key:"handleChangeImage",value:function(e){var a=this,t=new FileReader,n=e.target.files[0];this.setState({img:e.target.files[0]},function(){console.log(a.state.img)}),t.onloadend=function(){a.setState({file:n,imagePreviewUrl:t.result})},t.readAsDataURL(n)}},{key:"handleSubmit",value:function(e){var a=new FormData;a.append("img",this.state.img,this.state.img.name),a.append(this.props.name,this.state.name),a.append("calories",this.state.calories),a.append("price",this.state.price),a.append("protein",this.state.protein),a.append("carbohydrate",this.state.carbohydrate),a.append("fat",this.state.fat),a.append("cholesterol",this.state.cholesterol),a.append("sodium",this.state.sodium),a.append("description",this.state.description),function(e,a,t){var n=this;f.a.post("/api/menus/"+t+"/add",e).then(function(e){n.setState(Object(M.a)({},a,e.data.ok))}).then(function(){console.log("redirect"),n.renderRedirect()})}.bind(this,a,"status",this.props.path)(),e.preventDefault()}},{key:"render",value:function(){var e=this.state.imagePreviewUrl,a=null;e&&(a=r.a.createElement("img",{src:e,className:"imgpreview",alt:"preview"}));var t=this.state.status;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"setbg__addmenu"},r.a.createElement("div",Object(M.a)({className:"form-group"},"className","addmenu__box"),r.a.createElement("h3",null,"Status : ",t),r.a.createElement("form",{onSubmit:this.handleSubmit.bind(this)},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",type:"text",name:"name",placeholder:this.props.name,value:this.state.name,onChange:this.handleChange,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{className:"form-control",type:"textarea",name:"description",placeholder:"description",value:this.state.description,onChange:this.handleChange,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",type:"number",name:"price",placeholder:"price",value:this.state.price,onChange:this.handleChange,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",type:"number",name:"calories",placeholder:"carlories",value:this.state.calories,onChange:this.handleChange,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",type:"number",name:"protein",placeholder:"protein",value:this.state.protein,onChange:this.handleChange,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",type:"number",name:"carbohydrate",placeholder:"carbohydrate",value:this.state.carbohydrate,onChange:this.handleChange,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",type:"number",name:"fat",placeholder:"fat",value:this.state.fat,onChange:this.handleChange,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",type:"number",name:"sodium",placeholder:"sodium",value:this.state.sodium,onChange:this.handleChange,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",type:"number",name:"cholesterol",placeholder:"cholesterol",value:this.state.cholesterol,onChange:this.handleChange,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",type:"file",name:"img",accept:"image/jpg",onChange:this.handleChangeImage,required:!0})),a,r.a.createElement("button",{type:"submit",value:"submit",className:"submit__addmenu--button"},"SUBMIT")))))}}]),a}(n.Component),Y=Object(E.b)(function(e){return{auth:e.auth,errors:e.errors}})(Object(R.a)(H)),K=function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y,{name:"menu_name",path:"food",redirect:"menu"}))}}]),a}(n.Component),q=function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y,{name:"snack_name",path:"snack",redirect:"snack"}))}}]),a}(n.Component),V=(t(101),t(183)),W=(t(104),function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).findIdFromUrl=t.findIdFromUrl.bind(Object(L.a)(Object(L.a)(t))),t.state={menu:{},isLoaded:!1},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"findIdFromUrl",value:function(){var e=window.location.href.split("/");T.bind(this,"menu","isLoaded",this.props.path_get_data+e[e.length-1])()}},{key:"componentDidMount",value:function(){this.findIdFromUrl()}},{key:"addToCartClick",value:function(e){console.log("Click!!!!"),f.a.put("/api/orders/add/food",{food_id:this.state.menu._id,food_name:this.state.menu[this.props.name],price:this.state.menu.price}),e.preventDefault()}},{key:"render",value:function(){var e=this.props.auth,a=e.isAuthenticated,t=e.user,n=r.a.createElement("div",{className:"row justify-content-center",onClick:this.addToCartClick.bind(this)},r.a.createElement("button",{type:"button",className:"menudetail__detail--addtocartbutton"},"ADD TO CART")),l=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("a",{href:"/"+this.props.path_to_edit+"/"+this.state.menu._id},r.a.createElement("button",{type:"button",className:"menudetail__detail--addtocartbutton"},"EDIT "+this.props.type))));return this.state.isLoaded?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"menudetail"},r.a.createElement("div",{className:"row menudetail__outside"},r.a.createElement("div",{className:"col-3 homebutton"},r.a.createElement("img",{src:"/img/other/left-arrow.png",height:"20px",alt:"back"}),r.a.createElement("a",{href:"/"},"BACK TO HOMEPAGE"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col menudetail__menuname"},this.state.menu[this.props.name])),r.a.createElement("div",{className:"menudetail__detail--line"}),r.a.createElement("div",{className:"row menudetail__detail"},r.a.createElement("div",{className:"col-5"},r.a.createElement("img",{src:"\\"+this.state.menu.img_url,width:"80%",className:"menudetail__detail--foodimg",alt:this.state.menu[this.props.name]}),a?n:"",t.type?l:""),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"row menudetail_detail_description"},r.a.createElement("p",null,this.state.menu.description)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-9 cal"},"CALORIES"),this.state.menu.calories," Kcal"),r.a.createElement("div",{className:"row menudetail__detail--line"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-9"},r.a.createElement("p",null,"FAT")),r.a.createElement("p",null," ",this.state.menu.fat," g")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-9"},r.a.createElement("p",null,"CHOLESTEROL")),r.a.createElement("p",null," ",this.state.menu.cholesterol," mg")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-9"},r.a.createElement("p",null,"SODIUM")),r.a.createElement("p",null,this.state.menu.sodium," mg")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-9"},r.a.createElement("p",null,"CARBOHYDRATE")),r.a.createElement("p",null," ",this.state.menu.carbohydrate," g")),r.a.createElement("div",{className:"row "},r.a.createElement("div",{className:"col-9"},r.a.createElement("p",null,"PROTEIN")),r.a.createElement("p",null," ",this.state.menu.protein," g")),r.a.createElement("div",{className:"row menudetail__detail__price"},r.a.createElement("div",{className:"col-9"},r.a.createElement("p",null,"PRICE")),r.a.createElement("p",null," ",this.state.menu.price," \u0e3f")))),r.a.createElement("div",{className:"row menudetaiil__summary--row"},r.a.createElement("div",{className:"col-4 menudetaiil__summary--col"},r.a.createElement("p",null,this.state.menu.protein," G"),"PROTEIN"),r.a.createElement("div",{className:"col-4 menudetaiil__summary--col"},r.a.createElement("p",null,this.state.menu.calories," G"),"CALORIES"),r.a.createElement("div",{className:"col-4 menudetaiil__summary--col"},r.a.createElement("p",null," ",this.state.menu.carbohydrate," G"),"CARBOHYDRATE")))):r.a.createElement("div",{className:"loader"})}}]),a}(n.Component)),z=Object(E.b)(function(e){return{auth:e.auth}})(W),J=function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(z,{name:"menu_name",type:"MENU",path_get_data:"food/",path_to_edit:"edit/detail/menu"}))}}]),a}(n.Component),$=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={clicked:0},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"addToCartClick",value:function(e){var a;this.setState({clicked:this.state.clicked+1});var t=(a={},Object(M.a)(a,this.props.path+"_id",this.props.id),Object(M.a)(a,this.props.path+"_name",this.props.name),Object(M.a)(a,"price",this.props.price),a);G.bind(this,this.props.path,t)(),e.preventDefault()}},{key:"deleteFromDb",value:function(){B.bind(this,"menus/"+this.props.path,this.props.id)(),this.props.onMenuCardDeleted(this.props.id)}},{key:"render",value:function(){var e=this.props.auth,a=e.isAuthenticated,t=e.user,n=r.a.createElement("div",{className:"cartmenu__cart",onClick:this.addToCartClick.bind(this)},r.a.createElement("img",{src:"/img/other/cart.png",alt:"cart icon",height:"20"})),l=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"cartmenu__button__delete",onClick:this.deleteFromDb.bind(this)},r.a.createElement("img",{src:"/img/other/delete.png",alt:"delete icon",height:"20"})));return r.a.createElement("section",{className:"menu"},r.a.createElement("div",{className:"cardmenu__image"},r.a.createElement(V.a,{to:this.props.path_detail+this.props.id},r.a.createElement("img",{src:this.props.picture,alt:this.props.name,width:"70%",className:"cardmenu__image--border"}))),r.a.createElement("div",{className:"row cardmenu__undermenu--minwidth"},r.a.createElement("div",{className:"col cardmenu__text"},r.a.createElement("p",null,this.props.name,r.a.createElement("br",null),this.props.calories," Kcal")),r.a.createElement("div",{className:"col"},a?n:"",t.type?l:"")))}}]),a}(n.Component),Z=Object(E.b)(function(e){return{auth:e.auth}})($),X=(t(106),function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={menus:{},isLoaded:!1,firstImg:0,secondImg:1,thirdImg:2,forthImg:3,fifthImg:4,sixthImg:5},console.log("props",t.props.path),t.checkFirstMenuSet=t.checkFirstMenuSet.bind(Object(L.a)(Object(L.a)(t))),t.checkLastMenuSet=t.checkLastMenuSet.bind(Object(L.a)(Object(L.a)(t))),t.leftClick=t.leftClick.bind(Object(L.a)(Object(L.a)(t))),t.rightClick=t.rightClick.bind(Object(L.a)(Object(L.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){T.bind(this,"menus","isLoaded",this.props.path)()}},{key:"rightClick",value:function(e){console.log("Click!!!!"),this.setState({firstImg:this.state.firstImg+6}),e.preventDefault()}},{key:"leftClick",value:function(e){console.log("Click!!!!"),this.setState({firstImg:this.state.firstImg-6}),e.preventDefault()}},{key:"checkFirstMenuSet",value:function(){var e="";return this.state.firstImg-6>=0&&(e=r.a.createElement("img",{src:"/img/other/left-arrow.png",alt:"left arrow icon",height:"20"})),console.log("left ",e),e}},{key:"checkLastMenuSet",value:function(){var e="";return this.state.firstImg+6<this.state.menus.length&&this.state.menus.length>0&&(e=r.a.createElement("img",{className:"imgbutton",src:"/img/other/right-arrow.png",alt:"right arrow icon",height:"20"})),console.log("right ",e),e}},{key:"onMenuCardDeleted",value:function(e){var a=this.state.menus.slice();a.splice(e,1),this.setState({menus:a})}},{key:"render",value:function(){var e=this.state,a=e.isLoaded,t=e.menus,n=e.firstImg;if(!a)return r.a.createElement("div",{className:"loader"});var l=[],c=[];if(a){console.log("len",t.length);for(var s=n;s<n+3;s++){if(s<t.length){var i=r.a.createElement("div",{className:"col-4 menuzone__image--fix"},r.a.createElement(Z,{name:t[s][this.props.name],picture:t[s].img_url,calories:t[s].calories,id:t[s]._id,price:t[s].price,onMenuCardDeleted:this.onMenuCardDeleted.bind(this,n),path:this.props.path,path_detail:this.props.path_detail}));l.push(i)}if(s+3<t.length){var o=r.a.createElement("div",{className:"col-4 menuzone__image--fix"},r.a.createElement(Z,{name:t[s+3][this.props.name],picture:t[s+3].img_url,calories:t[s+3].calories,id:t[s+3]._id,price:t[s+3].price,onMenuCardDeleted:this.onMenuCardDeleted.bind(this,n),path:this.props.path,path_detail:this.props.path_detail}));c.push(o)}}}return r.a.createElement("div",{className:"menuzone"},r.a.createElement("div",{className:"mergerow--left"},r.a.createElement("div",{onClick:this.leftClick.bind(this)},this.checkFirstMenuSet())),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"row"},l),r.a.createElement("div",{className:"row"},c)),r.a.createElement("div",{className:"mergerow--right"},r.a.createElement("div",{onClick:this.rightClick.bind(this)},this.checkLastMenuSet())),r.a.createElement("div",null))}}]),a}(n.Component)),Q=function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(X,{path:"snack",name:"snack_name",path_detail:"/detail/snack/"}))}}]),a}(n.Component),ee=t(20),ae=t.n(ee),te=t(24),ne=(t(110),t(112),function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={isLoaded:!1,currentUser:null,bill:null,status:!1,waiting:!1},t.submit=t.submit.bind(Object(L.a)(Object(L.a)(t))),t}var t;return Object(d.a)(a,e),Object(i.a)(a,[{key:"submit",value:(t=Object(te.a)(ae.a.mark(function e(a){var t,n,r,l=this;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,this.props.stripe.createToken({name:"Name"});case 3:t=e.sent,n=t.token,r={token_id:n.id},this.setState({waiting:!0}),f.a.post("/api/payment/charge",r).then(function(e){console.log(e),1==e.data.ok&&l.setState({status:!0,waiting:!1})});case 8:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"componentDidMount",value:function(){var e=this;this.props.auth.isAuthenticated||this.props.history.push("/"),f.a.get("api/bills/current").then(function(a){e.setState({bill:a.data})}).then(function(){null===e.state.bill?e.props.history.push("/cart"):null===e.state.bill.destination&&e.props.history.push("/bill"),U.bind(e,"currentUser","isLoaded")()}).then(function(){})}},{key:"render",value:function(){if(!this.state.isLoaded)return r.a.createElement(r.a.Fragment,null);if(console.log("....",this.state.currentUser),this.state.status)return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"enjoy__container"},r.a.createElement("img",{src:"img/login/icon.png",width:"20%"}),r.a.createElement("div",null,"Enjoy your food...")),r.a.createElement("div",null,"Your order id: ",this.state.bill._id),r.a.createElement("br",null),r.a.createElement("a",{href:"/"},r.a.createElement("button",{className:"btn button--confirm",onClick:this.confirmButtonClicked},"Back To Home")));if(this.state.waiting)return r.a.createElement("div",{className:"enjoy__container"},r.a.createElement("img",{src:"img/login/icon.png",width:"20%"}),r.a.createElement("div",null,"Please waiting.."));var e=this.state.currentUser;return r.a.createElement("div",{className:" card payment__box__container"},r.a.createElement("br",null),r.a.createElement("strong",null,"PAYMENT DETAIL  "),r.a.createElement("br",null),r.a.createElement("div",{class:"row icons"},r.a.createElement("div",{className:"col-md-4 col-2"}),r.a.createElement("i",{className:"fa fa-cc-visa fa-2x col-md-1 col-2","aria-hidden":"true"}),r.a.createElement("i",{className:"fa fa-cc-mastercard fa-2x col-md-1 col-2","aria-hidden":"true"}),r.a.createElement("i",{className:"fa fa-cc-discover fa-2x col-md-1 col-2","aria-hidden":"true"}),r.a.createElement("i",{className:"fa fa-cc-amex fa-2x col-md-1 col-2","aria-hidden":"true"})),r.a.createElement("hr",null),r.a.createElement("div",{className:"row "},r.a.createElement("div",{className:"col-md-6 col-12 payment__purchase--pad"},r.a.createElement("div",{className:"checkout"},r.a.createElement(A.CardElement,null))),r.a.createElement("div",{className:"col-md-6 col-12 payment__customer__detail"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4 col-12 payment__customer__detail--left"},"Customer name"),r.a.createElement("div",{className:"col-md-8 col-12"},r.a.createElement("p",null,e.first_name," ",e.last_name))),r.a.createElement("br",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4 col-12 payment__customer__detail--left"},"TOTAL PRICE"),r.a.createElement("div",{className:"col-md-8 col-12"},this.state.bill.total_cost)),r.a.createElement("br",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4 col-12 payment__customer__detail--left"},"ADDRESS"),r.a.createElement("div",{className:"col-md-8 col-12"},this.state.bill.destination)))),r.a.createElement("br",null),r.a.createElement("div",{className:"btn button--confirm"},r.a.createElement("div",{onClick:this.submit},"Pay")))}}]),a}(n.Component)),re=Object(E.b)(function(e){return{auth:e.auth,errors:e.errors}})(Object(R.a)(Object(A.injectStripe)(ne))),le=function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"UnderConstruct"),r.a.createElement("h1",null,"UnderConstruct"),r.a.createElement("h1",null,"UnderConstruct"),r.a.createElement("h1",null,"UnderConstruct"),r.a.createElement("h1",null,"UnderConstruct"),r.a.createElement("h1",null,"UnderConstruct"))}}]),a}(n.Component),ce=t(13),se=(t(114),function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).toggle=t.toggle.bind(Object(L.a)(Object(L.a)(t))),t.state={isOpen:!1,dropdownOpen:!1,currentUser:[]},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"onLogoutClick",value:function(e){e.preventDefault(),this.props.logoutUser(),window.location.href="/"}},{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen,dropdownOpen:!this.state.dropdownOpen})}},{key:"render",value:function(){var e=this.props.auth,a=e.isAuthenticated,t=e.user;console.log("nav",t);var n=r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.f,{className:"navbar__item"},r.a.createElement(ce.g,{href:"/add/snack",className:"navbar__link"},"ADD SNACK")),r.a.createElement(ce.f,{className:"navbar__item"},r.a.createElement(ce.g,{href:"/add/menu",className:"navbar__link"},"ADD FOOD"))),l=r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.f,{className:"navbar__item",onClick:this.userChoice}),r.a.createElement(ce.k,{nav:!0,inNavbar:!0},r.a.createElement(ce.f,{className:"navbar__item"},r.a.createElement(ce.d,{className:"navbar__link",nav:!0,caret:!0},t.user_name),r.a.createElement(ce.c,null,r.a.createElement(ce.g,{href:"/profile",className:"navbar__link"},r.a.createElement(ce.b,null,"Profile")),r.a.createElement(ce.g,{href:"/mypackage",className:"navbar__link"},r.a.createElement(ce.b,null,"My Package"))))),r.a.createElement(ce.f,{className:"navbar__item"},r.a.createElement(ce.g,{href:"#",onClick:this.onLogoutClick.bind(this),className:"navbar__link"},"LOG OUT")),r.a.createElement(ce.f,{className:"navbar__item"},r.a.createElement(ce.g,{href:"/cart",className:"navbar__link"},r.a.createElement("img",{src:"/img/navbar/icon-cart2.png",className:"navbar__icon"})))),c=r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.f,{className:"navbar__item"},r.a.createElement(ce.g,{href:"/register",className:"navbar__link"},"SIGN UP")),r.a.createElement(ce.f,{className:"navbar__item"},r.a.createElement(ce.g,{href:"/login",className:"navbar__link"},"LOG IN")));return r.a.createElement("div",null,r.a.createElement(ce.h,{light:!0,expand:"md",className:"navbar fixed-top"},r.a.createElement(ce.i,{href:"/"},"PintoGogo"),r.a.createElement(ce.j,{onClick:this.toggle}),r.a.createElement(ce.a,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(ce.e,{className:"ml-auto"},t.type?n:"",a?l:c))))}}]),a}(n.Component)),ie=Object(E.b)(function(e){return{auth:e.auth}},{logoutUser:y})(se),oe=(t(117),function(e){function a(e){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).call(this,e))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("section",{id:"showcase"},r.a.createElement("div",{id:"myCarousel",className:"carousel slide","data-ride":"carousel"},r.a.createElement("ol",{className:"carousel-indicators"},r.a.createElement("li",{"data-target":"#myCarousel","data-slide-to":0,className:"active"}),r.a.createElement("li",{"data-target":"#myCarousel","data-slide-to":1}),r.a.createElement("li",{"data-target":"#myCarousel","data-slide-to":2})),r.a.createElement("div",{className:"carousel-inner"},r.a.createElement("div",{className:"carousel-item carousel-image-1 active"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"carousel-caption d-none d-sm-block text-left mb-5"},r.a.createElement("h1",{className:"display-3 txt__slide"},"PintoGoGo"),r.a.createElement("hr",{className:"linebreak"})))),r.a.createElement("div",{className:"carousel-item carousel-image-2"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"carousel-caption d-none d-sm-block text-left mb-5"},r.a.createElement("h1",{className:"display-3 txt__slide"},"PintoGoGo"),r.a.createElement("hr",{className:"linebreak"})))),r.a.createElement("div",{className:"carousel-item carousel-image-3"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"carousel-caption d-none d-sm-block text-left mb-5"},r.a.createElement("h1",{className:"display-3 txt__slide"},"PintoGoGo"),r.a.createElement("hr",{className:"linebreak"}))))),r.a.createElement("a",{href:"#myCarousel","data-slide":"prev",className:"carousel-control-prev"},r.a.createElement("span",{className:"carousel-control-prev-icon"})),r.a.createElement("a",{href:"#myCarousel","data-slide":"next",className:"carousel-control-next"},r.a.createElement("span",{className:"carousel-control-next-icon"}))))}}]),a}(n.Component)),me=function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(X,{path:"food",name:"menu_name",path_detail:"/detail/menu/"}))}}]),a}(n.Component),de=(t(120),function(e){function a(e){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).call(this,e))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col box"},r.a.createElement("div",{className:"desc--text"},"Choose our pre-select 3/5/7 days packages."),r.a.createElement("a",{href:"/package",style:{color:"black"},className:"btn button--pack"},"choose your package")),r.a.createElement("div",{className:"col box"},r.a.createElement("div",{className:"desc--text"},"Create your own custom package with your satisfaction."),r.a.createElement("a",{href:"/package/manage",style:{color:"black"},className:"btn button--pack"},"create your own package"))))}}]),a}(n.Component)),ue=(t(122),function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={isMenu:!0,isPackage:!1,isSnack:!1},t.changeRenderToMenu=t.changeRenderToMenu.bind(Object(L.a)(Object(L.a)(t))),t.changeRenderToPackage=t.changeRenderToPackage.bind(Object(L.a)(Object(L.a)(t))),t.changeRenderToSnack=t.changeRenderToSnack.bind(Object(L.a)(Object(L.a)(t))),t.setActiveButton=t.setActiveButton.bind(Object(L.a)(Object(L.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"changeRenderToMenu",value:function(){this.setState({isMenu:!0,isPackage:!1,isSnack:!1})}},{key:"changeRenderToPackage",value:function(){this.setState({isMenu:!1,isPackage:!0,isSnack:!1})}},{key:"changeRenderToSnack",value:function(){this.setState({isMenu:!1,isPackage:!1,isSnack:!0})}},{key:"setActiveButton",value:function(e){var a="btn button";return a+=e?" btn--active":""}},{key:"renderChoice",value:function(){return this.state.isMenu?r.a.createElement("div",null,r.a.createElement(me,null)):this.state.isPackage?r.a.createElement("div",null,r.a.createElement(de,null)):this.state.isSnack?r.a.createElement("div",null,r.a.createElement(Q,null)):void 0}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"choice-box"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4 col-6"},r.a.createElement("img",{className:"img-choice",src:"../img/choice/choice_1.png"}),r.a.createElement("button",{className:this.setActiveButton(this.state.isMenu),onClick:this.changeRenderToMenu},"MENU")),r.a.createElement("div",{className:"col-md-4 col-6"},r.a.createElement("img",{className:"img-choice",src:"../img/choice/choice_2.png"}),r.a.createElement("button",{className:this.setActiveButton(this.state.isPackage),onClick:this.changeRenderToPackage},"PACKAGE")),r.a.createElement("div",{className:"col-md-4 col-6 center"},r.a.createElement("img",{className:"img-choice",src:"../img/choice/choice_3.png"}),r.a.createElement("button",{className:this.setActiveButton(this.state.isSnack),onClick:this.changeRenderToSnack},"SNACK")))),this.renderChoice())}}]),a}(n.Component)),he=(t(125),function(e){function a(){var e;return Object(s.a)(this,a),(e=Object(o.a)(this,Object(m.a)(a).call(this))).state={menus:[],isLoaded:!1},e}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){T.bind(this,"menus","isLoaded","food")()}},{key:"render",value:function(){var e=this.state,a=e.menus;return e.isLoaded?a[0]&&a[1]&&a[2]&&a[3]?r.a.createElement("section",{className:"recommend__block"},r.a.createElement("p",{className:"txt__rec"},"Recommended"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-3 col-md-6 col-6 nopadding"},r.a.createElement(V.a,{to:"/detail/menu/"+a[1]._id},r.a.createElement("img",{className:"img-rec",src:a[1].img_url})),r.a.createElement("p",null,a[1].menu_name)),r.a.createElement("div",{className:"col-lg-3 col-md-6 col-6 nopadding"},r.a.createElement(V.a,{to:"/detail/menu/"+a[1]._id},r.a.createElement("img",{className:"img-rec",src:a[3].img_url})),r.a.createElement("p",null,a[3].menu_name)),r.a.createElement("div",{className:"col-lg-3 col-md-6 col-6 nopadding"},r.a.createElement(V.a,{to:"/detail/menu/"+a[1]._id},r.a.createElement("img",{className:"img-rec",src:a[2].img_url})),r.a.createElement("p",null,a[2].menu_name)),r.a.createElement("div",{className:"col-lg-3 col-md-6 col-6 nopadding"},r.a.createElement(V.a,{to:"/detail/menu/"+a[1]._id},r.a.createElement("img",{className:"img-rec",src:a[0].img_url})),r.a.createElement("p",null,a[0].menu_name)))):r.a.createElement("div",null):r.a.createElement(r.a.Fragment,null)}}]),a}(n.Component)),pe=(t(128),t(3)),Ee=t.n(pe),ve=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={bill:{},address:"",distance:"",deliveryFee:"",distSelected:!1,totalCost:"",isLoaded:!1},t.ddDOM=r.a.createRef(),t.calculateDeliveryFee=t.calculateDeliveryFee.bind(Object(L.a)(Object(L.a)(t))),t.updateBill=t.updateBill.bind(Object(L.a)(Object(L.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"updateBill",value:function(){var e=this,a={destination:window.txt,delivery_fee:this.state.deliveryFee,distance:this.state.distance,total_cost:this.state.totalCost};f.a.put("api/bills/update/current",a).then(function(a){console.log("final!! ",e.state.bill)})}},{key:"componentDidMount",value:function(){var e=this;this.props.auth.isAuthenticated||this.props.history.push("/"),f.a.get("/api/bills/current").then(function(a){e.setState({bill:a.data})}).then(function(){null!==e.state.bill&&null!==e.state.bill.order||e.props.history.push("/cart")}).then(function(){f.a.get("/api/address/current").then(function(a){e.setState({address:a.data,isLoaded:!0})}).then(function(){console.log("address: ",e.state.address)})})}},{key:"componentDidUpdate",value:function(){if(this.state.isLoaded){var e=window.$;this.ddDOM=e(this.ddDOM.current),this.ddDOM.dropdown(),e(".dd__addr-choice").click(function(){window.txt=e(this).text(),console.log("dd selected",window.txt)}),console.log(this.ddDOM)}}},{key:"calculateDeliveryFee",value:function(e){var a=this.state.address[e].distance,t=2*(a/=1e3),n=this.state.bill.order.package_order;if(null!=n){var r,l=3;for(r=0;r<n.length;r++)n[r].package_id.type>l&&(l=n[r].package_id.type)}t=Math.floor(t*l);var c=Math.round(this.state.bill.order_cost+t);this.setState({distance:a,deliveryFee:t,distSelected:!0,totalCost:c})}},{key:"render",value:function(){var e=this,a=this.state,t=a.bill,n=a.address;return a.isLoaded?(console.log("here addr: ",n),console.log("here bill: ",t),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"set-screen-payment"},r.a.createElement("div",{className:"box__content"},r.a.createElement("div",{className:"card card-form card__payment"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h2",{className:"txt__title"},"Order Summary"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("p",null)),r.a.createElement("div",{className:"col col--middle"},r.a.createElement("p",null,"Amount")),r.a.createElement("div",{className:"col col--right"},r.a.createElement("p",null,"Price (Baht)"))),r.a.createElement("div",{className:"row"},t.order.food_order.map(function(e){return r.a.createElement("div",{className:"row",style:{width:"100%"}},r.a.createElement("div",{className:"col"},r.a.createElement("p",null,e.food_name)),r.a.createElement("div",{className:"col col--middle"},r.a.createElement("p",null,e.amount)),r.a.createElement("div",{className:"col col--right"},r.a.createElement("p",null,e.price)))}),t.order.snack_order.map(function(e){return r.a.createElement("div",{className:"row",style:{width:"100%"}},r.a.createElement("div",{className:"col"},r.a.createElement("p",null,e.snack_name)),r.a.createElement("div",{className:"col col--middle"},r.a.createElement("p",null,e.amount)),r.a.createElement("div",{className:"col col--right"},r.a.createElement("p",null,e.price)))}),t.order.package_order.map(function(e){return r.a.createElement("div",{className:"row",style:{width:"100%"}},r.a.createElement("div",{className:"col"},r.a.createElement("p",null,e.package_name)),r.a.createElement("div",{className:"col col--middle"},r.a.createElement("p",null,e.amount)),r.a.createElement("div",{className:"col col--right"},r.a.createElement("p",null,e.price)))})),r.a.createElement("br",null),r.a.createElement("p",null,"Choose Address"),r.a.createElement("div",{className:"dropdown box__addr"},r.a.createElement("button",{ref:this.ddDOM,className:"btn btn-block dropdown-toggle dd__addr",type:"button","data-toggle":"dropdown"},"Selected"),r.a.createElement("div",{className:"dropdown-menu btn-block"},n.map(function(a,t){return r.a.createElement("a",{key:t,className:"dropdown-item dd__addr-choice",onClick:e.calculateDeliveryFee.bind(e,t)},a.address)}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("p",null,"Food cost")),r.a.createElement("div",{className:"col col--middle"},r.a.createElement("p",null,t.order_cost)),r.a.createElement("div",{className:"col col--right"},r.a.createElement("p",null,"Baht"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("p",null,"Distance")),r.a.createElement("div",{className:"col col--middle"},r.a.createElement("p",null,this.state.distance)),r.a.createElement("div",{className:"col col--right"},r.a.createElement("p",null,"Kilometer"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("p",null,"Delivery Fee")),r.a.createElement("div",{className:"col col--middle"},r.a.createElement("p",null,this.state.deliveryFee)),r.a.createElement("div",{className:"col col--right"},r.a.createElement("p",null,"Baht"))),r.a.createElement("div",{className:"row txt__total"},r.a.createElement("div",{className:"col"},r.a.createElement("p",null,"Order Total")),r.a.createElement("div",{className:"col col--middle"},r.a.createElement("p",null,this.state.totalCost)),r.a.createElement("div",{className:"col col--right"},r.a.createElement("p",null,"Baht"))),r.a.createElement("div",{className:"row box__confirm",onClick:this.updateBill},r.a.createElement("a",{href:"/payment"},r.a.createElement("button",{type:"\u0e3a\u0e4abutton",className:"btn btn-lg button__confirm"},"Confirm Order"))))))))):r.a.createElement(r.a.Fragment,null)}}]),a}(n.Component),ge=Object(E.b)(function(e){return{auth:e.auth,errors:e.errors}})(Object(R.a)(ve)),be=(t(131),function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).handleChange=t.handleChange.bind(Object(L.a)(Object(L.a)(t))),t.submitHandler=t.submitHandler.bind(Object(L.a)(Object(L.a)(t))),t.interval=setInterval(function(){return t.submitHandler()},1e3),t.state={inputField:t.props.amount},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"submitHandler",value:function(){this.props.handlerFromParant(this.state.inputField,this.props.price,this.props.id)}},{key:"handleChange",value:function(e){console.log("event"),this.setState({inputField:e.target.value})}},{key:"increment",value:function(){(function(e,a){f.a.put("/api/orders/increase/amount/"+e+"/"+a).then(function(e){console.log("increase",e.data)})}).bind(this,this.props.type_order,this.props.id)(),this.state.inputField+=1}},{key:"decrement",value:function(){(function(e,a){f.a.put("/api/orders/decrease/amount/"+e+"/"+a).then(function(e){console.log("decrease",e.data)})}).bind(this,this.props.type_order,this.props.id)(),this.state.inputField>1&&(this.state.inputField-=1)}},{key:"deleteOrder",value:function(){(function(e,a){f.a.delete("/api/orders/del/"+e+"/"+a).then(function(e){return console.log("delete order",e)})}).bind(this,this.props.type_order,this.props.id)(),this.state.inputField=0,this.forceUpdate()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"cardcartbox"},r.a.createElement("hr",null),r.a.createElement("div",{className:"row rowcard"},r.a.createElement("div",{className:"col-md-2 d-none d-sm-block img__block"},r.a.createElement("img",{src:this.props.picture,width:"60%",className:"cardcart__image"})),r.a.createElement("div",{className:"col-md-3 col-7 menuname__block"},r.a.createElement("p",null,this.props.name)),r.a.createElement("div",{className:"col-md-1 col-5 cardcartbox--delete",onClick:this.deleteOrder.bind(this)},"DELETE"),r.a.createElement("div",{className:"col-md-3 col-8 editamount"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"minusbutton ",onClick:this.decrement.bind(this)},r.a.createElement("img",{src:"/img/cart/minus.png",width:"20px"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:this.state.inputField,value:this.state.inputField,onChange:this.handleChange,style:{width:"3rem",height:"30px"}})),r.a.createElement("div",{className:"addbutton",onClick:this.increment.bind(this)},r.a.createElement("img",{src:"/img/cart/add.png",width:"20px"})))),r.a.createElement("div",{className:"col-md-3 col-3 cardcart__editamount__price"},r.a.createElement("div",{className:"menuprice"},r.a.createElement("p",null,this.props.price))))))}}]),a}(n.Component)),fe=(t(133),function(e){function a(){var e;return Object(s.a)(this,a),(e=Object(o.a)(this,Object(m.a)(a).call(this))).handleData=e.handleData.bind(Object(L.a)(Object(L.a)(e))),e.raw={},e.state={fromChild:"",order:null,isLoaded:!1},e.createCardCartFood=e.createCardCartFood.bind(Object(L.a)(Object(L.a)(e))),e.createCardCartSnack=e.createCardCartSnack.bind(Object(L.a)(Object(L.a)(e))),e.createCardPackage=e.createCardPackage.bind(Object(L.a)(Object(L.a)(e))),e.confirmButtonClicked=e.confirmButtonClicked.bind(Object(L.a)(Object(L.a)(e))),e}return Object(d.a)(a,e),Object(i.a)(a,[{key:"handleData",value:function(e,a,t){this.raw[t]=[e,a];var n=0;for(var r in this.raw)this.raw.hasOwnProperty(r)&&(n+=parseFloat(this.raw[r][0])*parseFloat(this.raw[r][1]));this.setState({fromChild:n.toString()})}},{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated||this.props.history.push("/"),function(e,a){var t=this;f.a.get("/api/orders/current").then(function(n){var r;t.setState((r={},Object(M.a)(r,e,n.data),Object(M.a)(r,a,!0),r))}).then(function(){console.log("order ",t.state.order)})}.bind(this,"order","isLoaded")()}},{key:"createCardCartFood",value:function(){var e=this;return this.state.order.food_order?this.state.order.food_order.map(function(a,t){return r.a.createElement(be,{handlerFromParant:e.handleData,picture:a.food_id.img_url,name:a.food_name,price:a.price,amount:a.amount,id:a.food_id._id,type_order:"food"})}):r.a.createElement("div",null)}},{key:"createCardCartSnack",value:function(){var e=this;return this.state.order.snack_order?this.state.order.snack_order.map(function(a,t){return r.a.createElement(be,{handlerFromParant:e.handleData,picture:a.snack_id.img_url,name:a.snack_name,price:a.price,amount:a.amount,id:a.snack_id._id,type_order:"snack"})}):r.a.createElement("div",null)}},{key:"createCardPackage",value:function(){var e=this;return this.state.order.package_order?this.state.order.package_order.map(function(a,t){return r.a.createElement(be,{handlerFromParant:e.handleData,picture:"",name:a.package_name,price:a.price,amount:a.amount,id:a.package_id._id,type_order:"package"})}):r.a.createElement("div",null)}},{key:"confirmButtonClicked",value:function(){var e={order_id:this.state.order._id,totalprice:this.state.fromChild};(function(e){f.a.put("/api/orders/tobill",e).then(function(e){return console.log("add to bill",e)})}).bind(this,e)()}},{key:"render",value:function(){return this.state.isLoaded?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"set-screen-cart"},r.a.createElement("div",{className:"linkbutton"},r.a.createElement("div",{className:"row cart__menubar"},r.a.createElement("div",{className:"col-1"}),r.a.createElement("div",{className:"col-1"},r.a.createElement("a",{href:"/"},r.a.createElement("img",{src:"/img/cart/plan.png",alt:"plan icon",width:"50%"})),r.a.createElement("p",null,"PLAN")),r.a.createElement("div",{className:"col-1"},r.a.createElement("img",{src:"/img/cart/arrow.png",alt:"arrow icon",width:"20%"})),r.a.createElement("div",{className:"col-1"},r.a.createElement("img",{src:"/img/cart/cart.png",alt:"cart icon",width:"50%"}),r.a.createElement("p",null,"CART")),r.a.createElement("div",{className:"col-1"},r.a.createElement("img",{src:"/img/cart/arrow.png",alt:"arrow icon",width:"20%"})),r.a.createElement("div",{className:"col-1"},r.a.createElement("img",{src:"/img/cart/payment.png",alt:"payment icon",width:"50%"}),r.a.createElement("p",null,"PAYMENT")),r.a.createElement("div",{className:"col-1"},r.a.createElement("img",{src:"/img/cart/arrow.png",alt:"arrow icon",width:"20%"})),r.a.createElement("div",{className:"col-1"},r.a.createElement("img",{src:"/img/cart/delivery.png",alt:"delivery icon",width:"50%"}),r.a.createElement("p",null,"DELIVERY")),r.a.createElement("div",{className:"col-1"},r.a.createElement("img",{src:"/img/cart/arrow.png",alt:"arrow icon",width:"20%"})),r.a.createElement("div",{className:"col-1"},r.a.createElement("img",{src:"/img/cart/enjoy.png",alt:"enjoy icon",width:"50%"}),r.a.createElement("p",null,"ENJOY")))),r.a.createElement("div",{className:"cartbox"},r.a.createElement("div",{className:"header"},r.a.createElement("h4",null,"Cart")),r.a.createElement("div",{className:"subhead"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"}),r.a.createElement("div",{className:"col-md-3 col-6 amountzone"},"AMOUNT"),r.a.createElement("div",{className:"col-md-3 col-6"},"PRICE"))),r.a.createElement("div",null,this.createCardCartFood(),this.createCardCartSnack(),this.createCardPackage()),r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement("div",{className:"total"},r.a.createElement("p",null,"TOTAL: ",this.state.fromChild)),r.a.createElement("a",{href:"/bill"},r.a.createElement("button",{className:"btn button--confirm",onClick:this.confirmButtonClicked},"CONFIRM")))))):r.a.createElement("div",{className:"loader"})}}]),a}(n.Component)),Ne=Object(E.b)(function(e){return{auth:e.auth,errors:e.errors}})(Object(R.a)(fe)),we=function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(z,{name:"snack_name",type:"SNACK",path_get_data:"snack/",path_to_edit:"edit/detail/snack"}))}}]),a}(n.Component),ye=(t(135),function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={id:"",menu:{},menu_name:"",price:"",calories:"",protein:"",carbohydrate:"",fat:"",img_url:"",description:"",sodium:"",cholesterol:"",status:0,file:"",imagePreviewUrl:"",alreadyLoaded:!1},t.handleChange=t.handleChange.bind(Object(L.a)(Object(L.a)(t))),t.handleSubmit=t.handleSubmit.bind(Object(L.a)(Object(L.a)(t))),t.handleChangeImage=t.handleChangeImage.bind(Object(L.a)(Object(L.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){if(!this.props.auth.isAuthenticated&&!this.props.auth.user.type)return this.props.history.push("/");console.log("props",this.props);var e=window.location.href.split("/");T.bind(this,"menu","isLoaded",this.props.type+"/"+e[e.length-1])(),this.setState({id:e[e.length-1]})}},{key:"setMenu",value:function(){this.setState({name:this.state.menu[this.props.name],price:this.state.menu.price,calories:this.state.menu.calories,protein:this.state.menu.protein,carbohydrate:this.state.menu.carbohydrate,fat:this.state.menu.fat,img_url:"",description:this.state.menu.description,sodium:this.state.menu.sodium,cholesterol:this.state.menu.cholesterol,imagePreviewUrl:"\\"+this.state.menu.img_url,alreadyLoaded:!0})}},{key:"renderRedirect",value:function(){return window.location.href=this.props.redirect+this.state.id}},{key:"handleChange",value:function(e){this.setState(Object(M.a)({},e.target.name,e.target.value))}},{key:"handleChangeImage",value:function(e){var a=this,t=new FileReader,n=e.target.files[0];t.onloadend=function(){a.setState({img_url:n,imagePreviewUrl:t.result},function(){console.log("pic",a.state.profilepic)})},t.readAsDataURL(n)}},{key:"handleSubmit",value:function(e){var a=new FormData;a.append("img",this.state.img_url,this.state.img_url.name),a.append("img_url",this.state.menu.img_url),a.append(this.props.name,this.state.name),a.append("calories",this.state.calories),a.append("price",this.state.price),a.append("protein",this.state.protein),a.append("carbohydrate",this.state.carbohydrate),a.append("fat",this.state.fat),a.append("cholesterol",this.state.cholesterol),a.append("sodium",this.state.sodium),a.append("description",this.state.description),function(e,a,t){var n=this;f.a.put("/api/menus/"+e+"/edit/"+a,t).then(function(a){console.log("edit "+e,a)}).then(function(){console.log("redirect"),n.renderRedirect()})}.bind(this,this.props.type,this.state.id,a)(),e.preventDefault()}},{key:"render",value:function(){return this.state.isLoaded&&!this.state.alreadyLoaded&&this.setMenu(),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"all"},r.a.createElement("div",{className:"row menudetail__outside"},r.a.createElement("div",{className:"col-3 menudetail__homebutton"},r.a.createElement("img",{src:"/img/other/left-arrow.png",alt:"left arrow icon",height:"20px"}),r.a.createElement("a",{href:"/"},"BACK TO HOMEPAGE"))),r.a.createElement("form",{onSubmit:this.handleSubmit.bind(this)},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col menudetail__menuname"},r.a.createElement("input",{type:"text",name:"name",className:"form-control menudetail__menuname--right",placeholder:"Name",value:this.state.name,onChange:this.handleChange,style:{width:"30%"},required:!0}))),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"row menudetail__detail"},r.a.createElement("div",{className:"col-5"},r.a.createElement("img",{src:this.state.imagePreviewUrl,className:"editmenudetail__imgpreview"}),r.a.createElement("br",null),r.a.createElement("div",{className:"upload-btn-wrapper"},r.a.createElement("button",{className:"btn-upload"},"Change Picture"),r.a.createElement("input",{type:"file",name:"profilepic",onChange:this.handleChangeImage})),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("button",{type:"submit",value:"submit",className:"menudetail__detail--addtocartbutton"},"SAVE CHANGE"))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"row menudetail_detail_description"},r.a.createElement("textarea",{type:"text",name:"description",className:"form-control",placeholder:"description",value:this.state.description,onChange:this.handleChange})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-9 cal"},r.a.createElement("p",null,"CALORIES")),r.a.createElement("input",{type:"text",name:"calories",className:"form-control",placeholder:"calories g",value:this.state.calories,onChange:this.handleChange,style:{width:"20%"}})),r.a.createElement("div",{className:"row line"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-9"},r.a.createElement("p",null,"FAT")),r.a.createElement("input",{type:"text",name:"fat",className:"form-control",placeholder:"fat g",value:this.state.fat,onChange:this.handleChange,style:{width:"20%"}})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-9"},r.a.createElement("p",null,"CHOLESTEROL")),r.a.createElement("input",{type:"text",name:"cholesterol",className:"form-control",placeholder:"cholesterol mg",value:this.state.cholesterol,onChange:this.handleChange,style:{width:"20%"}})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-9"},r.a.createElement("p",null,"SODIUM")),r.a.createElement("input",{type:"text",name:"sodium",className:"form-control",placeholder:"sodium mg",value:this.state.sodium,onChange:this.handleChange,style:{width:"20%"}})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-9"},r.a.createElement("p",null,"CARBOHYDRATE")),r.a.createElement("input",{type:"text",name:"carbohydrate",className:"form-control",placeholder:"carbohydrate g",value:this.state.carbohydrate,onChange:this.handleChange,style:{width:"20%"}})),r.a.createElement("div",{className:"row "},r.a.createElement("div",{className:"col-9"},r.a.createElement("p",null,"PROTEIN")),r.a.createElement("input",{type:"text",name:"protein",className:"form-control",placeholder:"protei gn",value:this.state.protein,onChange:this.handleChange,style:{width:"20%"}})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-9"},r.a.createElement("p",null,"PRICE")),r.a.createElement("input",{type:"text",name:"price",className:"form-control",placeholder:"price THB",value:this.state.price,onChange:this.handleChange,style:{width:"20%"}})))))))}}]),a}(n.Component)),ke=Object(E.b)(function(e){return{auth:e.auth,errors:e.errors}})(Object(R.a)(ye)),Oe=function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ke,{name:"menu_name",type:"food",redirect:"/detail/menu/"}))}}]),a}(n.Component),_e=function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ke,{name:"snack_name",type:"snack",redirect:"/detail/snack/"}))}}]),a}(n.Component),je=(t(137),function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={isLoaded:!1,currentUser:null,bill:null},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.a.get("api/bills/current").then(function(a){e.setState({bill:a.data})}).then(function(){U.bind(e,"currentUser","isLoaded")()}).then(function(){console.log("whole bill: ",e.state.bill),console.log("order: ",e.state.bill.order),console.log(e.state.isLoaded)})}},{key:"render",value:function(){return this.state.isLoaded?(console.log("....",this.state.currentUser),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"enjoy__container"},r.a.createElement("img",{src:"img/login/icon.png",width:"20%"}),r.a.createElement("div",null,"Enjoy your food...")),r.a.createElement("div",null,"Your order id: ",this.state.bill._id))):r.a.createElement(r.a.Fragment,null)}}]),a}(n.Component)),Ce=(t(139),function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={profile:null},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.a.get("api/users/profile").then(function(a){e.setState({profile:a.data,isLoaded:!0})}).then(function(){console.log("order ",e.state.order)})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",null,r.a.createElement("div",{className:" card payment__box__container"},r.a.createElement("strong",null,"PAYMENT DETAIL  "),r.a.createElement("br",null),r.a.createElement("div",{class:"row icons"},r.a.createElement("div",{className:"col-md-4 col-2"}),r.a.createElement("i",{className:"fa fa-cc-visa fa-2x col-md-1 col-2","aria-hidden":"true"}),r.a.createElement("i",{className:"fa fa-cc-mastercard fa-2x col-md-1 col-2","aria-hidden":"true"}),r.a.createElement("i",{className:"fa fa-cc-discover fa-2x col-md-1 col-2","aria-hidden":"true"}),r.a.createElement("i",{className:"fa fa-cc-amex fa-2x col-md-1 col-2","aria-hidden":"true"})),r.a.createElement("hr",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},"CARD NUMBER",r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col payment__box--position"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"card number",required:!0}))),"EXPIRAATION DATE",r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col payment__box--position"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"MM/YY",required:!0}))),"CVC CODE",r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col payment__box--position"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"cvc code",required:!0})))),r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"row"},"TOTAL PRICE"),r.a.createElement("div",{className:"row"},"Customer name"),r.a.createElement("div",{className:"row"},"ADDRESS"))),r.a.createElement("a",{href:"/"},r.a.createElement("button",{className:"btn button--confirm",onClick:this.confirmButtonClicked},"CONFIRM PAYMENT")))))}}]),a}(n.Component)),De=(t(141),t(144),function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).divMap=r.a.createRef(),t.divSearchBox=r.a.createRef(),t.handleDataFromGmap=t.handleDataFromGmap.bind(Object(L.a)(Object(L.a)(t))),t.state={lat:null,lng:null,dest:null,dist:null},t}var t,n,l;return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e,a,t;window.lat=13.736717,window.lng=100.523186,window.stateChange=!1,window.initMap=this.initMap.bind(this),window.getPlaceId=this.getPlaceId.bind(this),window.getDistance=this.getDistance.bind(this),window.handleSubmit=this.handleSubmit.bind(this),window.handleDataFromGmap=this.handleDataFromGmap.bind(this),e="https://maps.googleapis.com/maps/api/js?key=AIzaSyBKOfI6E4o_jRc1K8qBb63RsUKwZAavGSs&libraries=places&callback=initMap",a=window.document.getElementsByTagName("script")[0],(t=window.document.createElement("script")).src=e,t.async=!0,a.parentNode.insertBefore(t,a)}},{key:"initMap",value:function(){window.myGMap=new window.google.maps.Map(this.divMap.current,{center:{lat:13.736717,lng:100.523186},zoom:13}),window.input=this.divSearchBox.current,window.autocomplete=new window.google.maps.places.Autocomplete(window.input),window.autocomplete.bindTo("bounds",window.myGMap),window.marker=new window.google.maps.Marker({position:new window.google.maps.LatLng(window.lat,window.lng),map:window.myGMap,draggable:!0}),window.infowindow=new window.google.maps.InfoWindow({maxWidth:180}),window.getPlaceId(),window.handleDataFromGmap(),window.autocomplete.addListener("place_changed",function(){window.onChangeAutoComp=!0;var e=window.autocomplete.getPlace();if(e.geometry){e.geometry.viewport?window.myGMap.fitBounds(e.geometry.viewport):(window.myGMap.setCenter(e.geometry.location),window.myGMap.setZoom(17)),window.lat=window.autocomplete.getPlace().geometry.location.lat(),window.lng=window.autocomplete.getPlace().geometry.location.lng();var a=new window.google.maps.LatLng(window.lat,window.lng);window.marker.setPosition(a),window.getPlaceId(),window.handleDataFromGmap()}else window.alert("No details available for input: '"+e.name+"'")}),window.marker.addListener("dragend",function(){window.lat=window.marker.getPosition().lat(),window.lng=window.marker.getPosition().lng(),window.getPlaceId(),window.getDistance(),window.handleDataFromGmap()}),window.marker.addListener("mouseover",function(){window.infowindow.open(window.myGMap,window.marker)}),window.marker.addListener("mouseout",function(){window.infowindow.close(window.myGMap,window.marker)})}},{key:"getDistance",value:(l=Object(te.a)(ae.a.mark(function e(){return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.origin={lat:13.845955,lng:100.568674},window.dest={lat:window.marker.getPosition().lat(),lng:window.marker.getPosition().lng()},window.service=new window.google.maps.DistanceMatrixService,window.service.getDistanceMatrix({origins:[window.origin],destinations:[window.dest],travelMode:"DRIVING"},function(e,a){"OK"!==a?alert("Error was: "+a):(window.destAddr=e.destinationAddresses,window.distance=e.rows[0].elements[0].distance.value,window.duration=e.rows[0].elements[0].duration,console.log("get distance (m): ",window.distance))});case 4:case"end":return e.stop()}},e,this)})),function(){return l.apply(this,arguments)})},{key:"getPlaceId",value:function(){window.geocoder=new window.google.maps.Geocoder,window.latlng={lat:parseFloat(window.lat),lng:parseFloat(window.lng)},window.geocoder.geocode({location:window.latlng},function(e,a){a===window.google.maps.GeocoderStatus.OK?e[1]?window.placeid=e[1].place_id:window.alert("No results found"):window.alert("Geocoder failed due to: "+a)}),setTimeout(function(){window.service=new window.google.maps.places.PlacesService(window.myGMap),window.service.getDetails({placeId:window.placeid},function(e){window.infowindow.setContent("<div><strong>"+e.name+"</strong>"+e.formatted_address+"</div>")})},1e3)}},{key:"handleSubmit",value:(n=Object(te.a)(ae.a.mark(function e(){return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.lat=window.marker.getPosition().lat(),window.lng=window.marker.getPosition().lng(),this.props.handleFromParent(window.lat,window.lng,window.destAddr,window.distance);case 3:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"handleDataFromGmap",value:(t=Object(te.a)(ae.a.mark(function e(){var a;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=window.getDistance(),e.next=3,a;case 3:setTimeout(function(){window.handleSubmit()},1e3),console.log("func handleDataFromGmap worked");case 5:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"input-button "},r.a.createElement("div",{className:"center row"},r.a.createElement("input",{className:"form-control input-addr",ref:this.divSearchBox}))),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("div",{className:"ggmap center",ref:this.divMap})))}}]),a}(n.Component));var Se=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={first_name:"",last_name:"",email:"",user_name:"",password1:"",password2:"",phonenumber:"",address:{address:"",lat:"",lng:"",distance:null},status:{},errors:{}},t.handleChange=t.handleChange.bind(Object(L.a)(Object(L.a)(t))),t.handleSubmit=t.handleSubmit.bind(Object(L.a)(Object(L.a)(t))),t.handleData=t.handleData.bind(Object(L.a)(Object(L.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/")}},{key:"componentWillReceiveProps",value:function(e){e.errors&&(this.setState({errors:e.errors}),console.log("will recieve",e))}},{key:"handleChange",value:function(e){this.setState(Object(M.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var a={first_name:this.state.first_name,last_name:this.state.last_name,user_name:this.state.user_name,email:this.state.email,password1:this.state.password1,password2:this.state.password2,phonenumber:this.state.phonenumber,address:this.state.address};console.log(this.state.address),this.props.registerUser(a,this.props.history),e.preventDefault()}},{key:"handleData",value:function(e,a,t,n){var r=this;this.setState({address:{address:t[0],lat:e,lng:a,distance:n}},function(){console.log("reg destination: ",r.state.address.address),console.log("reg lat: ",r.state.address.lat),console.log("reg lng: ",r.state.address.lng),console.log("reg distance: ",r.state.address.distance)})}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",{className:"set-screen"}," ",r.a.createElement("div",{className:"register-box"}," ",r.a.createElement("h2",null," SIGN UP "),r.a.createElement("br",null),r.a.createElement("form",{noValidate:!0,onSubmit:this.handleSubmit},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"form-left"}," ",r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"control-label text-form-left",htmlFor:"Firstname"},"Firstname*"),r.a.createElement("div",{className:"col"},r.a.createElement("input",{className:Ee()("form-control",{"is-invalid":e.first_name}),name:"first_name",type:"text",id:"Firstname",placeholder:"Firstname",onChange:this.handleChange,value:this.state.first_name}),e.first_name&&r.a.createElement("div",{className:"invalid-feedback"},e.first_name))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"control-label text-form-left",htmlFor:"Lastname"},"Lastname*"),r.a.createElement("div",{className:"col"},r.a.createElement("input",{className:Ee()("form-control",{"is-invalid":e.last_name}),type:"text",name:"last_name",id:"Lastname",placeholder:"Lastname",onChange:this.handleChange,value:this.state.last_name}),e.last_name&&r.a.createElement("div",{className:"invalid-feedback"},e.last_name))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"control-label text-form-left",htmlFor:"Password"},"Password*"),r.a.createElement("div",{className:"col"},r.a.createElement("input",{type:"password",className:Ee()("form-control",{"is-invalid":e.password1}),name:"password1",id:"Password",placeholder:"password must least 6 characters",onChange:this.handleChange,value:this.state.password1}),e.password1&&r.a.createElement("div",{className:"invalid-feedback"},e.password1))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"control-label text-form-left",htmlFor:"ConfirmPassword"},"Confirm Password*"),r.a.createElement("div",{className:"col"},r.a.createElement("input",{type:"password",className:Ee()("form-control",{"is-invalid":e.password2}),name:"password2",id:"ConfirmPassword",placeholder:"Comfirm Password must least 6 character",onChange:this.handleChange,value:this.state.password2}),e.password2&&r.a.createElement("div",{className:"invalid-feedback"},e.password2))))),r.a.createElement("div",{className:"col-md-6 col-12"},r.a.createElement("div",{className:"form-right"}," ",r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"control-label text-form-left",htmlFor:"Username"},"Username*"),r.a.createElement("div",{className:"col"},r.a.createElement("input",{type:"text",className:Ee()("form-control",{"is-invalid":e.user_name}),name:"user_name",id:"Username",placeholder:"Username",onChange:this.handleChange,value:this.state.user_name}),e.user_name&&r.a.createElement("div",{className:"invalid-feedback"},e.user_name))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"control-label text-form-left",htmlFor:"Email"},"E-mail*"),r.a.createElement("div",{className:"col"},r.a.createElement("input",{type:"email",className:Ee()("form-control",{"is-invalid":e.email}),name:"email",id:"Email",placeholder:"Email",onChange:this.handleChange,value:this.state.email}),e.email&&r.a.createElement("div",{className:"invalid-feedback"},e.email))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"control-label text-form-left",htmlFor:"PhoneNumber"},"Phone Number* \xa0\xa0"),r.a.createElement("div",{className:"col"},r.a.createElement("input",{type:"text",className:Ee()("form-control",{"is-invalid":e.phonenumber}),name:"phonenumber",id:"PhoneNumber",placeholder:"Phone number",onChange:this.handleChange,value:this.state.phonenumber}),e.phonenumber&&r.a.createElement("div",{className:"invalid-feedback"},e.phone)))))),r.a.createElement("div",null,"Shipping Address",r.a.createElement("div",{className:"address-box"},r.a.createElement(De,{handleFromParent:this.handleData}))),r.a.createElement("br",null),r.a.createElement("button",{width:"auto",type:"submit",className:"btn button-confirm"}," CONFIRM"," "))))}}]),a}(n.Component),Fe=Object(E.b)(function(e){return{auth:e.auth,errors:e.errors}},{registerUser:function(e,a){return function(t){f.a.post("/api/users/register",e).then(function(e){return a.push("/login")}).catch(function(e){return t({type:"GET_ERRORS",payload:e.response.data})})}}})(Object(R.a)(Se)),Pe=(t(50),function(e){function a(e){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).call(this,e))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"btn-group btn-choice-group",role:"group","aria-label":"Choice Package"},[3,5,7].map(function(a,t){return r.a.createElement("button",{type:"button",className:"btn btn-choice-set",onClick:function(){return e.props.onSetDay(a)},key:t},a," DAYS")})))}}]),a}(n.Component)),xe=(t(37),t(150),function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"package-box"},r.a.createElement("div",{className:"set-screen-nopack"},"There is no package.")))}}]),a}(n.Component)),Ae=function(e){function a(e){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).call(this,e))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return console.log("props",this.props),r.a.createElement(V.a,{to:{pathname:this.props.to,state:{prevLocation:window.location.href}}},this.props.children)}}]),a}(n.Component),Me=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={packages:[],isLoaded:!1},t.createDivPackage=t.createDivPackage.bind(Object(L.a)(Object(L.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){I.bind(this,"packages","isLoaded","system/"+this.props.path)()}},{key:"createDivPackage",value:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"set-each-package row"},r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("img",{className:"img-pack",src:e.day_meal[0].meal_1.img_url})),r.a.createElement("div",{className:"col-sm dis-grid"},r.a.createElement("div",null,r.a.createElement("p",{className:"name-each-pks"},e.name_package),r.a.createElement("p",null,e.description)),r.a.createElement(Ae,{to:"/detail/package/"+e._id},r.a.createElement("button",{className:"btn view-pks"},"View Package")))))}},{key:"render",value:function(){var e=this;if(!this.state.isLoaded)return r.a.createElement("div",{className:"loader"});if(!this.state.packages[0])return r.a.createElement(xe,null);var a=this.state.packages.map(function(a,t){return r.a.createElement("div",{key:t},e.createDivPackage(a))});return console.log(Object(j.a)(this.state.packages.data)),r.a.createElement(r.a.Fragment,null,a)}}]),a}(n.Component),Le=function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Me,{path:"3days"}))}}]),a}(n.Component),Re=function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Me,{path:"5days"}))}}]),a}(n.Component),Te=function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Me,{path:"7days"}))}}]),a}(n.Component),Ie=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={pack:r.a.createElement(Le,null),day:3},t.dayComponents={3:Le,5:Re,7:Te},t.setDay=t.setDay.bind(Object(L.a)(Object(L.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"setDay",value:function(e){this.setState({day:e})}},{key:"render",value:function(){var e=this.state.day,a=this.dayComponents[e];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"set-screen-pack"},r.a.createElement("div",{className:"set-frame-pks"},r.a.createElement(Pe,{onSetDay:this.setDay}),r.a.createElement(a,null))))}}]),a}(n.Component),Ue=(t(51),t(32)),Ge=(t(154),function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={packages:{},daymeal:Object.assign({},t.props.menu_detail),length:t.props.day},t.compute=t.compute.bind(Object(L.a)(Object(L.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({daymeal:Object.assign({},e.menu_detail)},function(){})}},{key:"compute",value:function(e){for(var a=this.state.daymeal,t=0,n=0;n<this.state.length;n++)t=t+a[n][0][e]+a[n][1][e];return t/=this.state.length}},{key:"sumprice",value:function(e){for(var a=this.state.daymeal,t=0,n=0;n<this.state.length;n++)t=t+a[n][0][e]+a[n][1][e];return t}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"nutritionmanage-box"},"price: ",Math.round(.95*this.sumprice("price"))," BAHT ( \u0e25\u0e14\u0e08\u0e32\u0e01 ",this.sumprice("price"),")",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",{className:"nutrition-text"},"\u0e2a\u0e32\u0e23\u0e2d\u0e32\u0e2b\u0e32\u0e23\u0e40\u0e09\u0e25\u0e35\u0e48\u0e22\u0e15\u0e48\u0e2d\u0e27\u0e31\u0e19"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-7"},"CALORIES"),r.a.createElement("div",{className:" col-sm set-align"},Math.round(this.compute("calories"),2)," kCAL/day")),r.a.createElement("hr",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-7"},r.a.createElement("p",null,"FAT")),r.a.createElement("div",{className:" col-sm set-align"},r.a.createElement("p",null,Math.round(this.compute("fat"),2)," g/day"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-7"},r.a.createElement("p",null,"CHOLESTEROL")),r.a.createElement("div",{className:" col-sm set-align"},r.a.createElement("p",null,Math.round(this.compute("cholesterol"),2)," g/day"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-7"},r.a.createElement("p",null,"SODIUM")),r.a.createElement("div",{className:" col-sm set-align"},r.a.createElement("p",null,Math.round(this.compute("sodium"))," g/day"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-7"},r.a.createElement("p",null,"CARBOHYDRATE")),r.a.createElement("div",{className:" col-sm set-align"},r.a.createElement("p",null,Math.round(this.compute("carbohydrate"))," g/day"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-7"},r.a.createElement("p",null,"PROTEIN")),r.a.createElement("div",{className:" col-sm set-align"},r.a.createElement("p",null,Math.round(this.compute("protein"))," g/day")))))}}]),a}(n.Component)),Be=function(e){function a(e){var t;Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={day_img:[],day_detail:[],sum_price:0,is_ready_to_show:[],click_show:!1,name_package:"",description:"",package_id:"",save:!1,path:""};var n=t.initDayImg.bind(Object(L.a)(Object(L.a)(t)),t.props.num_day,"day_img"),r=t.initReady.bind(Object(L.a)(Object(L.a)(t)),t.props.num_day,"is_ready_to_show"),l=t.initDetail.bind(Object(L.a)(Object(L.a)(t)),t.props.num_day,"day_detail");return n(),r(),l(),console.log("img_day",t.state.day_img),console.log("img_detail",t.state.day_detail),console.log("ready",t.state.ready),t.send3DaysPackage=t.sendPackage.bind(Object(L.a)(Object(L.a)(t))),t.handleChange=t.handleChange.bind(Object(L.a)(Object(L.a)(t))),t.setPath=t.setPath.bind(Object(L.a)(Object(L.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"initDayImg",value:function(e,a){for(var t=[r.a.createElement("img",{className:"card-img",src:"../img/package/blank.PNG",alt:"blank"}),r.a.createElement("img",{className:"card-img",src:"../img/package/blank.PNG",alt:"blank"})],n=0;n<e;n++)this.state[a].push(t)}},{key:"initReady",value:function(e,a){for(var t=[!1,!1],n=0;n<e;n++)this.state[a].push(t)}},{key:"initDetail",value:function(e,a){for(var t=[null,null],n=0;n<e;n++)this.state[a].push(t)}},{key:"handleChange",value:function(e){this.setState(Object(M.a)({},e.target.name,e.target.value))}},{key:"sendPackage",value:function(e){for(var a=0,t=0;t<this.props.num_day;t++)a+=this.state.day_detail[t][0].price+this.state.day_detail[t][1].price;for(var n=[],r=0;r<this.props.num_day;r++){var l={meal_1:this.state.day_detail[r][0],meal_2:this.state.day_detail[r][1]};n.push(l)}console.log(e+" package"),this.state.save&&"add"===e&&alert("your package is already save!");var c={package_id:this.state.package_id,name_package:this.state.name_package,description:this.state.description,type:3,day_meal:n,price:a};(function(e,a,t,n){var r=this;f.a.post("/api/packages/"+a,e).then(function(e){console.log("id",e.data.data.package_id),r.setState(Object(M.a)({},n,e.data.data.package_id)),"add"!==a||r.state[t]?"addcart"===a&&alert("Add to cart success!"):(console.log("save"),r.setState(Object(M.a)({},t,!0)),alert("Save Package Success!"))}).catch(function(e){console.log(e)})}).bind(this,c,e,"save","package_id")()}},{key:"checkReady",value:function(){for(var e=this,a=!0,t=0;t<this.props.num_day;t++)for(var n=0;n<2;n++)this.state.is_ready_to_show[t][n]||(a=!1);return console.log("ready",a),a?r.a.createElement("button",{className:"btn btn-shownutrition",onClick:function(){return e.setState({click_show:!0})}},"CLICK TO SHOW NUTRITION"):r.a.createElement("div",null)}},{key:"setMenuDrop",value:function(e,a,t,n,l,c){for(var s,i=[],o=[],m=[],d=0;d<this.props.num_day;d++)i.push([this.state[e][d][0],this.state[e][d][1]]),o.push([this.state[a][d][0],this.state[a][d][1]]),m.push([this.state[t][d][0],this.state[t][d][1]]);console.log("img",c.dragData.img_url),i[n][l]=r.a.createElement("div",{className:"hovereffect"},r.a.createElement("img",{className:"card-img",src:"\\"+c.dragData.img_url,alt:c.dragData.menu_name}),r.a.createElement("div",{className:"overlay"},r.a.createElement("h2",null,c.dragData.menu_name))),o[n][l]=c.dragData,m[n][l]=!0,this.setState((s={},Object(M.a)(s,e,i),Object(M.a)(s,a,o),Object(M.a)(s,t,m),s)),console.log("img ",this.state.day_img),console.log("detail",this.state.day_detail),console.log("ready ",this.state.is_ready_to_show)}},{key:"createDropTarget",value:function(e,a){return r.a.createElement(Ue.DropTarget,{targetKey:"menu",onHit:this.setMenuDrop.bind(this,"day_img","day_detail","is_ready_to_show",e,a)},this.state.day_img[e][a])}},{key:"createRowDay",value:function(e){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col card-pack-img"},this.createDropTarget(e,0)),r.a.createElement("div",{className:"col card-pack-img"},this.createDropTarget(e,1)))}},{key:"setPath",value:function(e){this.setState({path:e})}},{key:"handleSubmit",value:function(e){var a=e.target;!1===a.checkValidity()?(e.preventDefault(),e.stopPropagation()):(e.preventDefault(),this.sendPackage(this.state.path)),a.classList.add("was-validated"),console.log("test: ",a)}},{key:"render",value:function(){for(var e=this,a=this.props.auth,t=a.isAuthenticated,n=a.user,l=r.a.createElement("div",null),c=r.a.createElement("div",{className:"row"},r.a.createElement("label",{className:"col-sm-4"},"Description:"),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("textarea",{className:"form-control",placeholder:"description",type:"text",name:"description",id:"description",onChange:this.handleChange,value:this.state.description}))),s=[],i=0;i<this.props.num_day;i+=2)this.props.num_day%2==1&&i==this.props.num_day-1?s[i]=r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-3-sm col-set"}),r.a.createElement("div",{className:"col-sm card-last-package "},"DAY "+(i+1),this.createRowDay(i)),r.a.createElement("div",{className:"col-3-sm col-set"})):s[i]=r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm card-package"},"DAY "+(i+1),this.createRowDay(i)),r.a.createElement("div",{className:"col-sm card-package"},"DAY "+(i+2),this.createRowDay(i+1)));var o=r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-shownutrition",onClick:function(){return window.location.href="/login"}},"LOGIN")),m=r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-shownutrition",onClick:function(){return e.setPath("addcart")}},"ADD TO CART"),r.a.createElement("button",{className:"btn btn-shownutrition",onClick:function(){return e.setPath("add")}},"SAVE PACKAGE"));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"packagemanage-box "},s,this.checkReady(),this.state.click_show&&r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"needs-validation",noValidate:!0,onSubmit:this.handleSubmit.bind(this)},r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("label",{className:"col-sm-4"},"Package name:"),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("input",{className:"form-control",placeholder:"Please name your package before save",type:"text",name:"name_package",id:"name_package",onChange:this.handleChange,value:this.state.name_package,required:!0}),r.a.createElement("div",{class:"invalid-feedback"},"Please choose a username."))),r.a.createElement("br",null),r.a.createElement("div",null,t?l:"",n.type?c:"")),r.a.createElement("div",null,r.a.createElement(Ge,{menu_detail:this.state.day_detail,day:this.props.num_day})),t?m:o))))}}]),a}(n.Component),He=Object(E.b)(function(e){return{auth:e.auth}})(Be),Ye=function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(He,{num_day:3}))}}]),a}(n.Component),Ke=function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(He,{num_day:5}))}}]),a}(n.Component),qe=function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(He,{num_day:7}))}}]),a}(n.Component),Ve=(t(158),function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={menus:[],isLoaded:!1},t.createDivImage=t.createDivImage.bind(Object(L.a)(Object(L.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){T.bind(this,"menus","isLoaded","food")()}},{key:"createDivImage",value:function(e,a){var t=a;return t.length>17&&(t=a.substring(0,17)+"..."),r.a.createElement("figure",null,r.a.createElement("div",{className:"hovereffect"},r.a.createElement("img",{src:"\\"+e,className:"menu--image",alt:a}),r.a.createElement("div",{className:"overlay"},r.a.createElement("h2",null,a))),r.a.createElement("figcaption",null,t))}},{key:"render",value:function(){var e=this,a=this.state.menus.map(function(e,a){return r.a.createElement(r.a.Fragment,{key:a},r.a.createElement("img",{src:"\\"+e.img_url,className:"menu--image__drag",alt:e.menu_name}))}),t=this.state.menus.map(function(t,n){return r.a.createElement(r.a.Fragment,{key:n},r.a.createElement(Ue.DragDropContainer,{dragData:t,targetKey:"menu",dragClone:"true",customDragElement:a[n]},e.createDivImage(t.img_url,t.menu_name)))}),n=[],l=[];return t.forEach(function(e,a){a%2===0?n.push(e):l.push(e)}),this.state.isLoaded?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"outside--box"},r.a.createElement("h4",{className:"menu--text"},"MENU"),r.a.createElement("div",{className:"row justify-content-end"},r.a.createElement("div",{className:"col"},n),r.a.createElement("div",{className:"col"},l)))):r.a.createElement("div",{className:"loader"})}}]),a}(n.Component)),We=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={pack:r.a.createElement(Ye,null),day:3},t.dayComponents={3:Ye,5:Ke,7:qe},t.setDay=t.setDay.bind(Object(L.a)(Object(L.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"setDay",value:function(e){this.setState({day:e})}},{key:"render",value:function(){var e=this.state.day,a=this.dayComponents[e];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"set-screen-packagemanage"},r.a.createElement("div",{className:"set-frame-packagemanage"},r.a.createElement(Pe,{onSetDay:this.setDay}),r.a.createElement(a,null)),r.a.createElement(Ve,null)))}}]),a}(n.Component),ze=(t(161),function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={isLoaded:!1,currentUser:null},t.dropdownDOM=r.a.createRef(),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillReceiveProps",value:function(e){if(!e.auth.isAuthenticated)return this.props.history.push("/")}},{key:"componentDidMount",value:function(){if(!this.props.auth.isAuthenticated)return this.props.history.push("/");U.bind(this,"currentUser","isLoaded")()}},{key:"componentDidUpdate",value:function(){if(this.state.isLoaded){var e=window.$;this.dropdownDOM=e(this.dropdownDOM.current),this.dropdownDOM.dropdown(),e(".dd__profile-addr").click(function(){var a=e(this).text();console.log("dd selected",a)}),console.log(this.dropdownDOM)}}},{key:"render",value:function(){if(!this.state.isLoaded)return r.a.createElement(r.a.Fragment,null);console.log("....",this.state.currentUser);var e=this.state.currentUser;return r.a.createElement("div",{className:"set-screen"}," ",r.a.createElement("div",{className:"profile-box"},r.a.createElement("h2",null," PROFILE "),r.a.createElement("img",{className:"userpic",src:e.img_url,alt:"profile picture"}),r.a.createElement("div",{className:" addmargin row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("label",{htmlFor:"Firstname"},"Firstname:")),r.a.createElement("div",{className:"col-sm"},e.first_name)),r.a.createElement("div",{className:" addmargin row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("label",{htmlFor:"Lastname"},"Lastname:")),r.a.createElement("div",{className:"col-sm"},e.last_name)),r.a.createElement("div",{className:" addmargin row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("label",{htmlFor:"Username"},"Username:")),r.a.createElement("div",{className:"col-sm"},e.user_name)),r.a.createElement("div",{className:"addmargin row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("label",{htmlFor:"Email"},"E-mail:")),r.a.createElement("div",{className:"col"},e.email)),r.a.createElement("div",{className:" addmargin row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("label",{htmlFor:"PhoneNumber"},"Phone Number: ")),r.a.createElement("div",{className:"col"},e.phonenumber)),r.a.createElement("div",{className:" row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("label",{htmlFor:"PhoneNumber"},"Address: ")),r.a.createElement("div",{className:"col"},r.a.createElement("div",{class:"dropdown"},r.a.createElement("button",{ref:this.dropdownDOM,class:"btn btn-secondary dropdown-toggle addr-dropdown",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Address"),r.a.createElement("div",{class:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},r.a.createElement("a",{class:"dropdown-item dd__profile-addr"},e.address[0].address),r.a.createElement("a",{class:"dropdown-item"},"Address 2"),r.a.createElement("a",{class:"dropdown-item"},"Add Address"))))),r.a.createElement("br",null),r.a.createElement("a",{href:"/edit/profile"},r.a.createElement("button",{width:"auto",type:"submit",className:"btn button-confirm"}," ","EDIT PROFILE"," "))))}}]),a}(n.Component)),Je=Object(E.b)(function(e){return{auth:e.auth,errors:e.errors}})(Object(R.a)(ze)),$e=(t(164),function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"text-left"},r.a.createElement("p",{className:"p1"},"PintoGoGo"),r.a.createElement("p",{className:"p2"},"Welcome to PintoGoGo. Here you can find a lot of quality foods. Have a good meal.")),r.a.createElement("div",{className:"topright"},r.a.createElement("a",{className:"link",href:"/"},"MENU")," ",r.a.createElement("a",{className:"link",href:"/package"},"PACKAGE")," ",r.a.createElement("a",{className:"link",href:"/"},"SNACK")),r.a.createElement("hr",null),r.a.createElement("div",{className:"bottomright"},r.a.createElement("p",null," Copyright 2018\xa9 PintoGoGo Created by Pinto Team")))}}]),a}(n.Component)),Ze=(t(167),function(e){function a(){var e;return Object(s.a)(this,a),(e=Object(o.a)(this,Object(m.a)(a).call(this))).state={isLoaded:!1,package:[],daymeal:[]},e.compute=e.compute.bind(Object(L.a)(Object(L.a)(e))),e}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){console.log("arrive nutrition");var e=window.location.href.split("/");I.bind(this,"packages","isLoaded",e[e.length-1])()}},{key:"compute",value:function(e){for(var a=this.state.packages[0].day_meal,t=0,n=0;n<a.length;n++)t=t+a[n].meal_1[e]+a[n].meal_2[e];return t/=a.length}},{key:"render",value:function(){var e=this.state,a=e.packages,t=(e.daymeal,e.isLoaded);return t?(t&&console.log("nutrition",this.state.packages),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"nutrition-box"},r.a.createElement("p",null,"price: ",a[0].price," BAHT",r.a.createElement("br",null),"( \u0e25\u0e14\u0e08\u0e32\u0e01"," ",Math.round(100*a[0].price/95,2)," ",")"),r.a.createElement("div",{className:"description"},a[0].description),r.a.createElement("p",{className:"nutrition-text"},"\u0e2a\u0e32\u0e23\u0e2d\u0e32\u0e2b\u0e32\u0e23\u0e40\u0e09\u0e25\u0e35\u0e48\u0e22\u0e15\u0e48\u0e2d\u0e27\u0e31\u0e19"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},"CALORIES"),r.a.createElement("div",{className:"col"},Math.round(this.compute("calories"),2)," kCAL/day")),r.a.createElement("hr",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},r.a.createElement("p",null,"FAT")),r.a.createElement("div",{className:"col"},r.a.createElement("p",null,Math.round(this.compute("fat"),2)," g/day"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},r.a.createElement("p",null,"CHOLESTEROL")),r.a.createElement("div",{className:"col"},r.a.createElement("p",null,Math.round(this.compute("cholesterol"),2)," g/day"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},r.a.createElement("p",null,"SODIUM")),r.a.createElement("div",{className:"col"},r.a.createElement("p",null,Math.round(this.compute("sodium"),2)," g/day"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},r.a.createElement("p",null,"CARBOHYDRATE")),r.a.createElement("div",{className:"col"},r.a.createElement("p",null,Math.round(this.compute("carbohydrate"),2)," g/day"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},r.a.createElement("p",null,"PROTEIN")),r.a.createElement("div",{className:"col"},r.a.createElement("p",null,Math.round(this.compute("protein"),2)," g/day")))))):r.a.createElement(r.a.Fragment,null)}}]),a}(n.Component)),Xe=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={packages:[],isLoaded:!1},t.addToCart=t.addToCart.bind(Object(L.a)(Object(L.a)(t))),console.log("props",t.props),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=window.location.href.split("/");console.log(e[e.length-1]),I.bind(this,"packages","isLoaded",e[e.length-1])()}},{key:"addToCart",value:function(){console.log("add pack");var e={package_id:this.state.packages[0]._id,package_name:this.state.packages[0].name_package,price:this.state.packages[0].price};G.bind(this,"package",e)()}},{key:"componentDidUpdate",value:function(){(0,window.$)('[data-toggle="tooltip"]').tooltip()}},{key:"createDivHover",value:function(e,a,t){return r.a.createElement("div",{className:"col card-pack-img hovereffect"},r.a.createElement("img",{className:"card-img img-responsive",src:"\\"+e[0].day_meal[a]["meal_"+t].img_url}),r.a.createElement("div",{className:"overlay"},r.a.createElement("h2",null,e[0].day_meal[a]["meal_"+t].menu_name)))}},{key:"render",value:function(){var e=this.state,a=e.packages,t=e.isLoaded,n=this.props.auth,l=n.isAuthenticated,c=(n.user,[]),s=r.a.createElement("button",{className:"btn btn-set",onClick:this.addToCart,"data-toggle":"tooltip","data-placement":"top",title:"HAVE A GOOD MEAL :)"}," ","Add to cart"," ");if(!t)return r.a.createElement("div",{className:"loader"});for(var i=0,o=0;o<a[0].type;o+=2)a[0].type%2==1&&o==a[0].type-1?c[o]=r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-3-sm col-set"}),r.a.createElement("div",{className:"col-sm card-last-package "},"DAY"+(o+1),r.a.createElement("div",{className:"row"},this.createDivHover(a,i+1,1),this.createDivHover(a,i+1,2))),r.a.createElement("div",{className:"col-3-sm col-set"})):c[o]=r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm card-package"},"DAY "+(o+1),r.a.createElement("div",{className:"row"},this.createDivHover(a,i,1),this.createDivHover(a,i,2))),r.a.createElement("div",{className:"col-sm card-package"},"DAY "+(o+2),r.a.createElement("div",{className:"row"},this.createDivHover(a,i+1,1),this.createDivHover(a,i+1,2)))),i+=1;return a[0]?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"set-screen-pack"},r.a.createElement("div",{className:"set-frame-each-pks"},r.a.createElement("div",{className:"backtopks row"},r.a.createElement("img",{src:"/img/other/left-arrow.png",height:"25px"}),r.a.createElement("a",{href:this.props.location.state.prevLocation},"BACK")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"package-box "},r.a.createElement("div",{className:"name-pks"},a[0].name_package),c,l?s:"")),r.a.createElement("div",{className:"col-md"},r.a.createElement(Ze,null)))))):(console.log("in no pack"),r.a.createElement(xe,null))}}]),a}(n.Component),Qe=Object(E.b)(function(e){return{auth:e.auth,errors:e.errors}})(Object(R.a)(Xe)),ea=(t(171),function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={packages:[],isLoaded:!1},t.createDivPackage=t.createDivPackage.bind(Object(L.a)(Object(L.a)(t))),t.deleteFromDb=t.deleteFromDb.bind(Object(L.a)(Object(L.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"deleteFromDb",value:function(e){B.bind(this,"packages",e._id)()}},{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated||this.props.history.push("/"),I.bind(this,"packages","isLoaded","user/all")()}},{key:"createDivPackage",value:function(e){var a=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"set-each-mypackage row"},r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("img",{className:"img-mypack",src:e.day_meal[0].meal_1.img_url})),r.a.createElement("div",{className:"col-sm"},r.a.createElement("div",{className:"detail"},r.a.createElement("div",{className:"name-each-mypks"},e.name_package),r.a.createElement("p",null,e.type," day package")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm"},r.a.createElement(Ae,{to:"/detail/package/"+e._id},r.a.createElement("button",{className:"btn view-mypks"},"View Package"))),r.a.createElement("div",{className:"col-sm"},r.a.createElement("button",{className:"btn view-mypks",onClick:function(){return a.deleteFromDb(e)}},"Delete Package"))))))}},{key:"render",value:function(){var e=this;if(!this.state.isLoaded)return r.a.createElement("div",{className:"loader"});if(!this.state.packages[0])return r.a.createElement("div",{className:"set-screen-mypack"},r.a.createElement("div",{className:"set-frame-mypks"},r.a.createElement("h3",null,"My Package"),r.a.createElement("div",{className:"set-each-mypackage"},"You have no package.",r.a.createElement("br",null),r.a.createElement("a",{href:"/package/manage"},r.a.createElement("img",{src:"img/package/add-pack.png",className:"addpack",alt:"add package",width:"100px"})),r.a.createElement("br",null),r.a.createElement("a",{href:"/package/manage"},r.a.createElement("button",{className:"btn view-mypks"},"Try create your own package")))));var a=this.state.packages.map(function(a,t){return r.a.createElement("div",{key:t},e.createDivPackage(a))});return console.log(Object(j.a)(this.state.packages.data)),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"set-screen-mypack"},r.a.createElement("div",{className:"set-frame-mypks"},r.a.createElement("h3",null,"My Package"),a)))}}]),a}(n.Component)),aa=Object(E.b)(function(e){return{auth:e.auth,errors:e.errors}})(Object(R.a)(ea)),ta=(t(173),function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={first_name:"",last_name:"",email:"",phonenumber:"",profilepic:null,imagePreviewUrl:null,checkimg:null,errors:{},lat:[],lng:[],dest:[],dist:[],isLoaded:!1,setLoaded:!1,alreadyLoaded:!0,currentUser:null},t.handleChange=t.handleChange.bind(Object(L.a)(Object(L.a)(t))),t.handleSubmit=t.handleSubmit.bind(Object(L.a)(Object(L.a)(t))),t.handleChangeImage=t.handleChangeImage.bind(Object(L.a)(Object(L.a)(t))),t.setUser=t.setUser.bind(Object(L.a)(Object(L.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){if(!this.props.auth.isAuthenticated)return this.props.history.push("/");U.bind(this,"currentUser","isLoaded")()}},{key:"setUser",value:function(){this.setState({first_name:this.state.currentUser.first_name,last_name:this.state.currentUser.last_name,email:this.state.currentUser.email,phonenumber:this.state.currentUser.phonenumber,imagePreviewUrl:this.state.currentUser.img_url,checkimg:this.state.currentUser.img_url,setLoaded:!0,alreadyLoaded:!1})}},{key:"handleChange",value:function(e){this.setState(Object(M.a)({},e.target.name,e.target.value))}},{key:"handleChangeImage",value:function(e){var a=this,t=new FileReader,n=e.target.files[0];t.onloadend=function(){a.setState({profilepic:n,imagePreviewUrl:t.result},function(){console.log("pic",a.state.profilepic)})},t.readAsDataURL(n)}},{key:"componentWillReceiveProps",value:function(e){e.errors&&(this.setState({errors:e.errors}),console.log("will recieve",e))}},{key:"handleSubmit",value:function(e){var a=new FormData;this.state.imagePreviewUrl!=this.state.checkimg?a.append("img",this.state.profilepic,this.state.profilepic.name):a.append("img_url",this.state.imagePreviewUrl),a.append("first_name",this.state.first_name),a.append("last_name",this.state.last_name),a.append("email",this.state.email),a.append("phonenumber",this.state.phonenumber),console.log(a),this.props.editProfile(a,this.props.history),e.preventDefault()}},{key:"render",value:function(){if(this.state.isLoaded&&this.state.alreadyLoaded&&this.setUser(),!this.state.setLoaded)return r.a.createElement("div",{className:"loader"});var e=this.state.errors,a=this.state.currentUser;return r.a.createElement("div",{className:"set-screen"}," ",r.a.createElement("div",{className:"editprofile-box"},r.a.createElement("form",{noValidate:!0,onSubmit:this.handleSubmit},r.a.createElement("h2",null," PROFILE "),r.a.createElement("div",{className:"center"},r.a.createElement("img",{className:"userpic-edit",src:this.state.imagePreviewUrl}),r.a.createElement("br",null),r.a.createElement("div",{className:"upload-btn-wrapper"},r.a.createElement("button",{className:"btn-upload"},"Change Picture"),r.a.createElement("input",{type:"file",name:"profilepic",onChange:this.handleChangeImage}))),r.a.createElement("div",{className:" addmargin row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("label",{htmlFor:"Firstname"},"Firstname:")),r.a.createElement("div",{className:"col-sm"},r.a.createElement("input",{className:Ee()("form-control",{"is-invalid":e.first_name}),name:"first_name",type:"text",id:"Firstname",placeholder:"Firstname",onChange:this.handleChange,value:this.state.first_name}),e.first_name&&r.a.createElement("div",{className:"invalid-feedback"},e.first_name))),r.a.createElement("div",{className:" addmargin row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("label",{htmlFor:"Lastname"},"Lastname:")),r.a.createElement("div",{className:"col-sm"},r.a.createElement("input",{className:Ee()("form-control",{"is-invalid":e.last_name}),type:"text",name:"last_name",id:"Lastname",placeholder:"Lastname",onChange:this.handleChange,value:this.state.last_name}),e.last_name&&r.a.createElement("div",{className:"invalid-feedback"},e.last_name))),r.a.createElement("div",{className:" addmargin row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("label",{htmlFor:"Username"},"Username:")),r.a.createElement("div",{className:"col-sm"},a.user_name)),r.a.createElement("div",{className:" addmargin row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("label",{htmlFor:"Email"},"E-mail:")),r.a.createElement("div",{className:"col"},r.a.createElement("input",{type:"email",className:Ee()("form-control",{"is-invalid":e.email}),name:"email",id:"Email",placeholder:"Email",onChange:this.handleChange,value:this.state.email}),e.email&&r.a.createElement("div",{className:"invalid-feedback"},e.email))),r.a.createElement("div",{className:" addmargin row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("label",{htmlFor:"PhoneNumber"},"Phone Number:")),r.a.createElement("div",{className:"col"},r.a.createElement("input",{type:"text",className:Ee()("form-control",{"is-invalid":e.phonenumber}),name:"phonenumber",id:"PhoneNumber",placeholder:"Phone number",onChange:this.handleChange,value:this.state.phonenumber}),e.phonenumber&&r.a.createElement("div",{className:"invalid-feedback"},e.phonenumber))),r.a.createElement("div",{className:" row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("label",{htmlFor:"PhoneNumber"},"Address:")),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"dropdown"},r.a.createElement("button",{className:"btn btn-secondary dropdown-toggle addr-dropdown",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Address"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},r.a.createElement("a",{className:"dropdown-item",href:"#"},a.address[0].address),r.a.createElement("a",{className:"dropdown-item",href:"#"},"Address 2"),r.a.createElement("a",{className:"dropdown-item",href:"#"},"Add Address"))))),r.a.createElement("br",null),r.a.createElement("button",{width:"auto",type:"submit",className:"btn button-confirm"}," ","Submit"," "))))}}]),a}(n.Component)),na=Object(E.b)(function(e){return{auth:e.auth,errors:e.errors}},{editProfile:function(e,a){return function(t){f.a.put("/api/users/edit/profile",e).then(function(e){return a.push("/profile")}).catch(function(e){return t({type:"GET_ERRORS",payload:e.response.data})})}}})(Object(R.a)(ta)),ra=function(e){function a(){var e;return Object(s.a)(this,a),(e=Object(o.a)(this,Object(m.a)(a).call(this))).state={user_name:"",password:"",errors:{}},e.onChange=e.onChange.bind(Object(L.a)(Object(L.a)(e))),e.onSubmit=e.onSubmit.bind(Object(L.a)(Object(L.a)(e))),e}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onResize,!1),this.props.auth.isAuthenticated&&this.props.history.push("/")}},{key:"componentWillReceiveProps",value:function(e){e.auth.isAuthenticated&&this.props.history.push("/"),e.errors&&this.setState({errors:e.errors})}},{key:"onResize",value:function(e){console.log("".concat(e.target.innerWidth," ").concat(e.target.innerHeight))}},{key:"onChange",value:function(e){this.setState(Object(M.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var a={user_name:this.state.user_name,password:this.state.password};this.props.loginUser(a)}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"login__text"},"LOGIN"),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group col"},r.a.createElement("input",{className:Ee()("form-control",{"is-invalid":e.user_name}),id:"username",name:"user_name",type:"text",placeholder:"username",value:this.state.user_name,onChange:this.onChange}),e.user_name&&r.a.createElement("div",{className:"invalid-feedback"},e.user_name)),r.a.createElement("div",{className:"form-group col"},r.a.createElement("input",{className:Ee()("form-control",{"is-invalid":e.password}),id:"password",name:"password",type:"password",placeholder:"password",value:this.state.password,onChange:this.onChange}),e.password&&r.a.createElement("div",{className:"invalid-feedback"},e.password)),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",className:"submit__login--button"},"LOGIN"))))}}]),a}(n.Component),la=Object(E.b)(function(e){return{auth:e.auth,errors:e.errors}},{loginUser:function(e){return function(a){f.a.post("/api/users/login",e).then(function(e){var t=e.data.token;localStorage.setItem("jwtToken",t),N(t);var n=g()(t);a(w(n))}).catch(function(e){a({type:"GET_ERRORS",payload:e.response.data})})}}})(Object(R.a)(ra)),ca=(t(176),t(179),function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"login__box__container"},r.a.createElement("div",{className:"login__box"},r.a.createElement("img",{className:"logo",src:"img/login/icon.png"}),r.a.createElement("div",{className:"login__input"},r.a.createElement(la,null)))))}}]),a}(n.Component)),sa=function(){return[r.a.createElement(oe,null),r.a.createElement(he,null),r.a.createElement(ue,null)]},ia=function(){return r.a.createElement(A.StripeProvider,{apiKey:"pk_test_os3uf16y5tFa5WVqnqNPNaJk"},r.a.createElement("div",{className:"example"},r.a.createElement(A.Elements,null,r.a.createElement(re,null))))};if(localStorage.jwtToken){N(localStorage.jwtToken);var oa=g()(localStorage.jwtToken);x.dispatch(w(oa));var ma=Date.now()/1e3;oa.exp<ma&&(x.dispatch(y()),window.location.href="/login")}var da=function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(E.a,{store:x},r.a.createElement(u.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(ie,null),r.a.createElement(h.a,null,r.a.createElement(p.a,{exact:!0,path:"/",component:sa}),r.a.createElement(p.a,{path:"/payment",component:ia}),r.a.createElement(p.a,{path:"/add/menu",component:K}),r.a.createElement(p.a,{path:"/add/snack",component:q}),r.a.createElement(p.a,{path:"/show/menu",component:me}),r.a.createElement(p.a,{path:"/show/snack",component:Q}),r.a.createElement(p.a,{path:"/register",component:Fe}),r.a.createElement(p.a,{path:"/login",component:ca}),r.a.createElement(p.a,{exact:!0,path:"/package",component:Ie}),r.a.createElement(p.a,{path:"/package/manage",component:We}),r.a.createElement(p.a,{path:"/profile",component:Je}),r.a.createElement(p.a,{path:"/edit/profile",component:na}),r.a.createElement(p.a,{path:"/cart",component:Ne}),r.a.createElement(p.a,{path:"/payment2",component:Ce}),r.a.createElement(p.a,{path:"/detail/menu",component:J}),r.a.createElement(p.a,{path:"/detail/package",component:Qe}),r.a.createElement(p.a,{path:"/mypackage",component:aa}),r.a.createElement(p.a,{path:"/detail/snack",component:we}),r.a.createElement(p.a,{path:"/edit/detail/menu",component:Oe}),r.a.createElement(p.a,{path:"/edit/detail/snack",component:_e}),r.a.createElement(p.a,{path:"/enjoy",component:je}),r.a.createElement(p.a,{paht:"/bill",component:ge}),r.a.createElement(p.a,{path:"*",component:le})),r.a.createElement($e,null))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(da,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},37:function(e,a,t){},50:function(e,a,t){},51:function(e,a,t){},58:function(e,a,t){e.exports=t(182)},63:function(e,a,t){},68:function(e,a,t){},97:function(e,a,t){}},[[58,2,1]]]);
//# sourceMappingURL=main.278c9efb.chunk.js.map