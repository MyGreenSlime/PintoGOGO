(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,a,t){},104:function(e,a,t){},106:function(e,a,t){},110:function(e,a,t){},112:function(e,a,t){},115:function(e,a,t){},118:function(e,a,t){},120:function(e,a,t){},123:function(e,a,t){},126:function(e,a,t){},129:function(e,a,t){},131:function(e,a,t){},133:function(e,a,t){},135:function(e,a,t){},137:function(e,a,t){},140:function(e,a,t){},146:function(e,a,t){},150:function(e,a,t){},154:function(e,a,t){},157:function(e,a,t){},160:function(e,a,t){},163:function(e,a,t){},167:function(e,a,t){},169:function(e,a,t){},172:function(e,a,t){},175:function(e,a,t){},178:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(22),c=t.n(r),s=(t(63),t(65),t(34),t(27),t(67),t(4)),i=t(5),o=t(6),m=t(7),d=t(8),u=(t(68),t(181)),h=t(182),p=t(180),E=t(13),v=t(29),g=t.n(v),b=t(11),f=t.n(b),N=function(e){e?f.a.defaults.headers.common.Authorization=e:delete f.a.defaults.headers.common.Authorization},w=function(e,a){return function(t){f.a.post("/api/users/register",e).then(function(e){return a.push("/login")}).catch(function(e){return t({type:"GET_ERRORS",payload:e.response.data})})}},y=function(e){return{type:"SET_CURRENT_USER",payload:e}},k=function(){return function(e){localStorage.removeItem("jwtToken"),N(!1),e(y({}))}},O=t(21),_=t(54),j=t(55),C=t(9),D=function(e){return void 0===e||null===e||"object"===Object(C.a)(e)&&0===Object.keys(e).length||"String"===typeof e&&0===e.trim().length},S={isAuthenticated:!1,user:{}},F={},P=Object(O.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_CURRENT_USER":return Object(j.a)({},e,{isAuthenticated:!D(a.payload),user:a.payload});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_ERRORS":return a.payload;default:return e}}}),M=[_.a],x=Object(O.e)(P,{},Object(O.d)(O.a.apply(void 0,M))),A=t(23),I=t(10),L=t(2),R=(t(97),t(183));function T(e,a,t){var n=this;f.a.get("/api/menus/"+t).then(function(t){var l;console.log("get ",e),n.setState((l={},Object(I.a)(l,e,t.data),Object(I.a)(l,a,!0),l))}).then(function(){console.log("allmenus ",n.state[e])})}function U(e,a,t){var n=this;f.a.get("/api/packages/"+t).then(function(t){var l;console.log("api get package"),n.setState((l={},Object(I.a)(l,e,t.data),Object(I.a)(l,a,!0),l)),console.log("set ",n.state[e])}).then(function(){console.log("package ",n.state[e])})}function G(e,a){var t=this;f.a.get("/api/users/profile").then(function(n){var l;console.log("get profile"),t.setState((l={},Object(I.a)(l,e,n.data),Object(I.a)(l,a,!0),l))}).then(function(){console.log("user ",t.state[e])})}function B(e,a){f.a.put("/api/orders/add/"+e,a).then(function(e){console.log("add to cart",e)})}function H(e,a){var t=this;f.a.delete("/api/"+e+"/del/"+a).then(function(e){return console.log("delete",e)}).then(function(){t.props.onMenuCardDeleted(a)})}var K=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={name:"",price:"",calories:"",protein:"",carbohydrate:"",fat:"",img:null,description:"",sodium:"",cholesterol:"",status:0,file:"",imagePreviewUrl:""},t.handleChange=t.handleChange.bind(Object(L.a)(Object(L.a)(t))),t.handleSubmit=t.handleSubmit.bind(Object(L.a)(Object(L.a)(t))),t.handleChangeImage=t.handleChangeImage.bind(Object(L.a)(Object(L.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"renderRedirect",value:function(){return window.location.href="/add/"+this.props.redirect}},{key:"componentDidMount",value:function(){if(!this.props.auth.user.type)return this.props.history.push("/")}},{key:"componentWillReceiveProps",value:function(e){if(!e.auth.user.type)return this.props.history.push("/")}},{key:"handleChange",value:function(e){this.setState(Object(I.a)({},e.target.name,e.target.value))}},{key:"handleChangeImage",value:function(e){var a=this,t=new FileReader,n=e.target.files[0];this.setState({img:e.target.files[0]},function(){console.log(a.state.img)}),t.onloadend=function(){a.setState({file:n,imagePreviewUrl:t.result})},t.readAsDataURL(n)}},{key:"handleSubmit",value:function(e){var a=new FormData;a.append("img",this.state.img,this.state.img.name),a.append(this.props.name,this.state.name),a.append("calories",this.state.calories),a.append("price",this.state.price),a.append("protein",this.state.protein),a.append("carbohydrate",this.state.carbohydrate),a.append("fat",this.state.fat),a.append("cholesterol",this.state.cholesterol),a.append("sodium",this.state.sodium),a.append("description",this.state.description),function(e,a,t){var n=this;f.a.post("/api/menus/"+t+"/add",e).then(function(e){n.setState(Object(I.a)({},a,e.data.ok))}).then(function(){console.log("redirect"),n.renderRedirect()})}.bind(this,a,"status",this.props.path)(),e.preventDefault()}},{key:"render",value:function(){var e=this.state.imagePreviewUrl,a=null;e&&(a=l.a.createElement("img",{src:e,className:"imgpreview"}));var t=this.state.status;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"setbg__addmenu"},l.a.createElement("div",Object(I.a)({className:"form-group"},"className","addmenu__box"),l.a.createElement("h3",null,"Status : ",t),l.a.createElement("form",{onSubmit:this.handleSubmit.bind(this)},l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{className:"form-control",type:"text",name:"name",placeholder:this.props.name,value:this.state.name,onChange:this.handleChange,required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("textarea",{className:"form-control",type:"textarea",name:"description",placeholder:"description",value:this.state.description,onChange:this.handleChange,required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{className:"form-control",type:"number",name:"price",placeholder:"price",value:this.state.price,onChange:this.handleChange,required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{className:"form-control",type:"number",name:"calories",placeholder:"carlories",value:this.state.calories,onChange:this.handleChange,required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{className:"form-control",type:"number",name:"protein",placeholder:"protein",value:this.state.protein,onChange:this.handleChange,required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{className:"form-control",type:"number",name:"carbohydrate",placeholder:"carbohydrate",value:this.state.carbohydrate,onChange:this.handleChange,required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{className:"form-control",type:"number",name:"fat",placeholder:"fat",value:this.state.fat,onChange:this.handleChange,required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{className:"form-control",type:"number",name:"sodium",placeholder:"sodium",value:this.state.sodium,onChange:this.handleChange,required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{className:"form-control",type:"number",name:"cholesterol",placeholder:"cholesterol",value:this.state.cholesterol,onChange:this.handleChange,required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{className:"form-control",type:"file",name:"img",accept:"image/jpg",onChange:this.handleChangeImage,required:!0})),a,l.a.createElement("button",{type:"submit",value:"submit",className:"submit__addmenu--button"},"SUBMIT")))))}}]),a}(n.Component),Y=Object(E.b)(function(e){return{auth:e.auth,errors:e.errors}})(Object(R.a)(K)),q=function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Y,{name:"menu_name",path:"food",redirect:"menu"}))}}]),a}(n.Component),z=function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Y,{name:"snack_name",path:"snack",redirect:"snack"}))}}]),a}(n.Component),V=(t(101),t(179)),W=(t(104),function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).findIdFromUrl=t.findIdFromUrl.bind(Object(L.a)(Object(L.a)(t))),t.state={menu:{},isLoaded:!1},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"findIdFromUrl",value:function(){var e=window.location.href.split("/");T.bind(this,"menu","isLoaded",this.props.path_get_data+e[e.length-1])()}},{key:"componentDidMount",value:function(){this.findIdFromUrl()}},{key:"addToCartClick",value:function(e){console.log("Click!!!!"),f.a.put("/api/orders/add/food",{food_id:this.state.menu._id,food_name:this.state.menu[this.props.name],price:this.state.menu.price}),e.preventDefault()}},{key:"render",value:function(){var e=this.props.auth,a=e.isAuthenticated,t=e.user,n=l.a.createElement("div",{className:"row justify-content-center",onClick:this.addToCartClick.bind(this)},l.a.createElement("button",{type:"button",className:"menudetail__detail--addtocartbutton"},"ADD TO CART")),r=l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row justify-content-center"},l.a.createElement("a",{href:"/"+this.props.path_to_edit+"/"+this.state.menu._id},l.a.createElement("button",{type:"button",className:"menudetail__detail--addtocartbutton"},"EDIT "+this.props.type))));return this.state.isLoaded?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"menudetail"},l.a.createElement("div",{className:"row menudetail__outside"},l.a.createElement("div",{className:"col-3 homebutton"},l.a.createElement("img",{src:"/img/other/left-arrow.png",height:"20px"}),l.a.createElement("a",{href:"/"},"BACK TO HOMEPAGE"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col menudetail__menuname"},this.state.menu[this.props.name])),l.a.createElement("div",{className:"menudetail__detail--line"}),l.a.createElement("div",{className:"row menudetail__detail"},l.a.createElement("div",{className:"col-5"},l.a.createElement("img",{src:"\\"+this.state.menu.img_url,width:"80%",className:"menudetail__detail--foodimg"}),a?n:"",t.type?r:""),l.a.createElement("div",{className:"col"},l.a.createElement("div",{className:"row menudetail_detail_description"},l.a.createElement("p",null,this.state.menu.description)),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-9 cal"},"CALORIES"),this.state.menu.calories," Kcal"),l.a.createElement("div",{className:"row menudetail__detail--line"}),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-9"},l.a.createElement("p",null,"FAT")),l.a.createElement("p",null," ",this.state.menu.fat," g")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-9"},l.a.createElement("p",null,"CHOLESTEROL")),l.a.createElement("p",null," ",this.state.menu.cholesterol," mg")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-9"},l.a.createElement("p",null,"SODIUM")),l.a.createElement("p",null,this.state.menu.sodium," mg")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-9"},l.a.createElement("p",null,"CARBOHYDRATE")),l.a.createElement("p",null," ",this.state.menu.carbohydrate," g")),l.a.createElement("div",{className:"row "},l.a.createElement("div",{className:"col-9"},l.a.createElement("p",null,"PROTEIN")),l.a.createElement("p",null," ",this.state.menu.protein," g")),l.a.createElement("div",{className:"row menudetail__detail__price"},l.a.createElement("div",{className:"col-9"},l.a.createElement("p",null,"PRICE")),l.a.createElement("p",null," ",this.state.menu.price," \u0e3f")))),l.a.createElement("div",{className:"row menudetaiil__summary--row"},l.a.createElement("div",{className:"col-4 menudetaiil__summary--col"},l.a.createElement("p",null,this.state.menu.protein," G"),"PROTEIN"),l.a.createElement("div",{className:"col-4 menudetaiil__summary--col"},l.a.createElement("p",null,this.state.menu.calories," G"),"CALORIES"),l.a.createElement("div",{className:"col-4 menudetaiil__summary--col"},l.a.createElement("p",null," ",this.state.menu.carbohydrate," G"),"CARBOHYDRATE")))):l.a.createElement("div",{className:"loader"})}}]),a}(n.Component)),J=Object(E.b)(function(e){return{auth:e.auth}})(W),$=function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(J,{name:"menu_name",type:"MENU",path_get_data:"food/",path_to_edit:"editmenudetail"}))}}]),a}(n.Component),Z=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={clicked:0},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"addToCartClick",value:function(e){var a;this.setState({clicked:this.state.clicked+1});var t=(a={},Object(I.a)(a,this.props.path+"_id",this.props.id),Object(I.a)(a,this.props.path+"_name",this.props.name),Object(I.a)(a,"price",this.props.price),a);B.bind(this,this.props.path,t)(),e.preventDefault()}},{key:"deleteFromDb",value:function(){H.bind(this,"menus/"+this.props.path,this.props.id)()}},{key:"render",value:function(){var e=this.props.auth,a=e.isAuthenticated,t=e.user,n=l.a.createElement("div",{className:"cartmenu__cart",onClick:this.addToCartClick.bind(this)},l.a.createElement("img",{src:"/img/other/cart.png",alt:"cart icon",height:"20"})),r=l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"cartmenu__button__delete",onClick:this.deleteFromDb.bind(this)},l.a.createElement("img",{src:"/img/other/delete.png",alt:"delete icon",height:"20"})));return l.a.createElement("section",{className:"menu"},l.a.createElement("div",{className:"cardmenu__image"},l.a.createElement(V.a,{to:this.props.path_detail+this.props.id},l.a.createElement("img",{src:this.props.picture,alt:this.props.name,width:"70%",className:"cardmenu__image--border"}))),l.a.createElement("div",{className:"row cardmenu__undermenu--minwidth"},l.a.createElement("div",{className:"col cardmenu__text"},l.a.createElement("p",null,this.props.name,l.a.createElement("br",null),this.props.calories," Kcal")),l.a.createElement("div",{className:"col"},a?n:"",t.type?r:"")))}}]),a}(n.Component),X=Object(E.b)(function(e){return{auth:e.auth}})(Z),Q=(t(106),function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={menus:{},isLoaded:!1,firstImg:0,secondImg:1,thirdImg:2,forthImg:3,fifthImg:4,sixthImg:5},console.log("props",t.props.path),t.checkFirstMenuSet=t.checkFirstMenuSet.bind(Object(L.a)(Object(L.a)(t))),t.checkLastMenuSet=t.checkLastMenuSet.bind(Object(L.a)(Object(L.a)(t))),t.leftClick=t.leftClick.bind(Object(L.a)(Object(L.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){T.bind(this,"menus","isLoaded",this.props.path)()}},{key:"rightClick",value:function(e){console.log("Click!!!!"),this.setState({firstImg:this.state.firstImg+6,secondImg:this.state.secondImg+6,thirdImg:this.state.thirdImg+6,forthImg:this.state.forthImg+6,fifthImg:this.state.fifthImg+6,sixthImg:this.state.sixthImg+6}),e.preventDefault()}},{key:"leftClick",value:function(e){console.log("Click!!!!"),this.setState({firstImg:this.state.firstImg-6,secondImg:this.state.secondImg-6,thirdImg:this.state.thirdImg-6,forthImg:this.state.forthImg-6,fifthImg:this.state.fifthImg-6,sixthImg:this.state.sixthImg-6}),e.preventDefault()}},{key:"checkFirstMenuSet",value:function(){var e="";return this.state.firstImg-6>=0&&(e=l.a.createElement("img",{src:"/img/other/left-arrow.png",alt:"left arrow icon",height:"20"})),console.log("left ",e),e}},{key:"checkLastMenuSet",value:function(){var e="";return this.state.firstImg+5<this.state.menus.length&&this.state.sixthImg+1!=this.state.menus.length&&this.state.menus.length>0&&(e=l.a.createElement("img",{className:"imgbutton",src:"/img/other/right-arrow.png",alt:"right arrow icon",height:"20"})),console.log("right ",e),e}},{key:"onMenuCardDeleted",value:function(e){var a=this.state.menus.slice();a.splice(e,1),this.setState({menus:a})}},{key:"render",value:function(){var e=this.state,a=e.isLoaded,t=e.menus,n=e.firstImg,r=e.secondImg,c=e.thirdImg,s=e.forthImg,i=e.fifthImg,o=e.sixthImg;return a?l.a.createElement("div",{className:"menuzone"},l.a.createElement("div",{className:"mergerow--left"},l.a.createElement("div",{onClick:this.leftClick.bind(this)},this.checkFirstMenuSet())),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-4 menuzone__image--fix"},t[n]&&l.a.createElement(X,{name:t[n][this.props.name],picture:t[n].img_url,calories:t[n].calories,id:t[n]._id,price:t[n].price,onMenuCardDeleted:this.onMenuCardDeleted.bind(this,n),path:this.props.path,path_detail:this.props.path_detail})),l.a.createElement("div",{className:"col-4 menuzone__image--fix"},t[r]&&l.a.createElement(X,{name:t[r][this.props.name],picture:t[r].img_url,calories:t[r].calories,id:t[r]._id,price:t[r].price,onMenuCardDeleted:this.onMenuCardDeleted.bind(this,r),path:this.props.path,path_detail:this.props.path_detail})),l.a.createElement("div",{className:"col-4 menuzone__image--fix"},t[c]&&l.a.createElement(X,{name:t[c][this.props.name],picture:t[c].img_url,calories:t[c].calories,id:t[c]._id,price:t[c].price,onMenuCardDeleted:this.onMenuCardDeleted.bind(this,c),path:this.props.path,path_detail:this.props.path_detail}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-4 menuzone__image--fix"},t[s]&&l.a.createElement(X,{name:t[s].menu_name,picture:t[s].img_url,calories:t[s].calories,id:t[s]._id,price:t[s].price,onMenuCardDeleted:this.onMenuCardDeleted.bind(this,s)})),l.a.createElement("div",{className:"col-4 menuzone__image--fix"},t[i]&&l.a.createElement(X,{name:t[i].menu_name,picture:t[i].img_url,calories:t[i].calories,id:t[i]._id,price:t[i].price,onMenuCardDeleted:this.onMenuCardDeleted.bind(this,i)})),l.a.createElement("div",{className:"col-4 menuzone__image--fix"},t[o]&&l.a.createElement(X,{name:t[o].menu_name,picture:t[o].img_url,calories:t[o].calories,id:t[o]._id,price:t[o].price,onMenuCardDeleted:this.onMenuCardDeleted.bind(this,o)})))),l.a.createElement("div",{className:"mergerow--right"},l.a.createElement("div",{onClick:this.rightClick.bind(this)},this.checkLastMenuSet())),l.a.createElement("div",null)):l.a.createElement("div",{className:"loader"})}}]),a}(n.Component)),ee=function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Q,{path:"snack",name:"snack_name",path_detail:"/snackdetail/"}))}}]),a}(n.Component),ae=t(19),te=t.n(ae),ne=t(24),le=(t(110),function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={isLoaded:!1,currentUser:null,bill:null},t.state={complete:!1},t.submit=t.submit.bind(Object(L.a)(Object(L.a)(t))),t}var t;return Object(d.a)(a,e),Object(i.a)(a,[{key:"submit",value:(t=Object(ne.a)(te.a.mark(function e(a){var t,n,l,r=this;return te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,this.props.stripe.createToken({name:"Name"});case 3:t=e.sent,n=t.token,l={token_id:n.id},f.a.post("/api/payment/charge",l).then(function(e){console.log(e),1==e.data.ok&&r.setState({status:!0})});case 7:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"componentDidMount",value:function(){var e=this;f.a.get("api/bills/current").then(function(a){e.setState({bill:a.data})}).then(function(){G.bind(e,"currentUser","isLoaded")()}).then(function(){console.log("whole bill: ",e.state.bill),console.log("order: ",e.state.bill.order)})}},{key:"render",value:function(){if(!this.state.isLoaded)return l.a.createElement(l.a.Fragment,null);if(console.log("....",this.state.currentUser),this.state.complete)return l.a.createElement("h1",null,"Purchase Complete");var e=this.state.currentUser;return l.a.createElement("div",{className:" card payment__box__container"},l.a.createElement("strong",null,"PAYMENT DETAIL  "),l.a.createElement("br",null),l.a.createElement("div",{class:"row icons"},l.a.createElement("div",{className:"col-md-4 col-2"}),l.a.createElement("i",{className:"fa fa-cc-visa fa-2x col-md-1 col-2","aria-hidden":"true"}),l.a.createElement("i",{className:"fa fa-cc-mastercard fa-2x col-md-1 col-2","aria-hidden":"true"}),l.a.createElement("i",{className:"fa fa-cc-discover fa-2x col-md-1 col-2","aria-hidden":"true"}),l.a.createElement("i",{className:"fa fa-cc-amex fa-2x col-md-1 col-2","aria-hidden":"true"})),l.a.createElement("hr",null),l.a.createElement("div",{className:"row "},l.a.createElement("div",{className:"col-6 payment__purchase--pad"},l.a.createElement("div",{className:"checkout"},l.a.createElement(A.CardElement,null),l.a.createElement("button",{onClick:this.submit},"Pay"))),l.a.createElement("div",{className:"col-6 payment__customer__detail"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6 payment__customer__detail--left"},"CUSTOMER NAME"),l.a.createElement("div",{className:"col-6"},e.first_name)),l.a.createElement("br",null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6 payment__customer__detail--left"},"TOTAL PRICE"),l.a.createElement("div",{className:"col-6"},this.state.bill.order_cost)),l.a.createElement("br",null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6 payment__customer__detail--left"},"ADDRESS")))),l.a.createElement("a",{href:"/"},l.a.createElement("button",{className:"btn button--confirm",onClick:this.confirmButtonClicked},"CONFIRM PAYMENT")))}}]),a}(n.Component)),re=Object(A.injectStripe)(le),ce=function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h1",null,"UnderConstruct"),l.a.createElement("h1",null,"UnderConstruct"),l.a.createElement("h1",null,"UnderConstruct"),l.a.createElement("h1",null,"UnderConstruct"),l.a.createElement("h1",null,"UnderConstruct"),l.a.createElement("h1",null,"UnderConstruct"))}}]),a}(n.Component),se=t(12),ie=(t(112),function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).toggle=t.toggle.bind(Object(L.a)(Object(L.a)(t))),t.state={isOpen:!1,dropdownOpen:!1,currentUser:[]},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"onLogoutClick",value:function(e){e.preventDefault(),this.props.logoutUser(),window.location.href="/"}},{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen,dropdownOpen:!this.state.dropdownOpen})}},{key:"render",value:function(){var e=this.props.auth,a=e.isAuthenticated,t=e.user;console.log("nav",t);var n=l.a.createElement(l.a.Fragment,null,l.a.createElement(se.f,{className:"navbar__item"},l.a.createElement(se.g,{href:"/add/snack",className:"navbar__link"},"ADD SNACK")),l.a.createElement(se.f,{className:"navbar__item"},l.a.createElement(se.g,{href:"/add/menu",className:"navbar__link"},"ADD FOOD"))),r=l.a.createElement(l.a.Fragment,null,l.a.createElement(se.f,{className:"navbar__item",onClick:this.userChoice}),l.a.createElement(se.k,{nav:!0,inNavbar:!0},l.a.createElement(se.f,{className:"navbar__item"},l.a.createElement(se.d,{className:"navbar__link",nav:!0,caret:!0},t.user_name),l.a.createElement(se.c,null,l.a.createElement(se.g,{href:"/profile",className:"navbar__link"},l.a.createElement(se.b,null,"Profile")),l.a.createElement(se.g,{href:"/mypackage",className:"navbar__link"},l.a.createElement(se.b,null,"My Package"))))),l.a.createElement(se.f,{className:"navbar__item"},l.a.createElement(se.g,{href:"#",onClick:this.onLogoutClick.bind(this),className:"navbar__link"},"LOG OUT")),l.a.createElement(se.f,{className:"navbar__item"},l.a.createElement(se.g,{href:"/cart",className:"navbar__link"},l.a.createElement("img",{src:"../img/navbar/icon-cart2.png",className:"navbar__icon"})))),c=l.a.createElement(l.a.Fragment,null,l.a.createElement(se.f,{className:"navbar__item"},l.a.createElement(se.g,{href:"/register",className:"navbar__link"},"SIGN UP")),l.a.createElement(se.f,{className:"navbar__item"},l.a.createElement(se.g,{href:"/login",className:"navbar__link"},"LOG IN")));return l.a.createElement("div",null,l.a.createElement(se.h,{light:!0,expand:"md",className:"navbar fixed-top"},l.a.createElement(se.i,{href:"/"},"PintoGogo"),l.a.createElement(se.j,{onClick:this.toggle}),l.a.createElement(se.a,{isOpen:this.state.isOpen,navbar:!0},l.a.createElement(se.e,{className:"ml-auto"},t.type?n:"",a?r:c))))}}]),a}(n.Component)),oe=Object(E.b)(function(e){return{auth:e.auth}},{logoutUser:k})(ie),me=(t(115),function(e){function a(e){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).call(this,e))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement("section",{id:"showcase"},l.a.createElement("div",{id:"myCarousel",className:"carousel slide","data-ride":"carousel"},l.a.createElement("ol",{className:"carousel-indicators"},l.a.createElement("li",{"data-target":"#myCarousel","data-slide-to":0,className:"active"}),l.a.createElement("li",{"data-target":"#myCarousel","data-slide-to":1}),l.a.createElement("li",{"data-target":"#myCarousel","data-slide-to":2})),l.a.createElement("div",{className:"carousel-inner"},l.a.createElement("div",{className:"carousel-item carousel-image-1 active"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"carousel-caption d-none d-sm-block text-left mb-5"},l.a.createElement("h1",{className:"display-3 txt__slide"},"PintoGoGo"),l.a.createElement("hr",{className:"linebreak"})))),l.a.createElement("div",{className:"carousel-item carousel-image-2"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"carousel-caption d-none d-sm-block text-left mb-5"},l.a.createElement("h1",{className:"display-3 txt__slide"},"PintoGoGo"),l.a.createElement("hr",{className:"linebreak"})))),l.a.createElement("div",{className:"carousel-item carousel-image-3"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"carousel-caption d-none d-sm-block text-left mb-5"},l.a.createElement("h1",{className:"display-3 txt__slide"},"PintoGoGo"),l.a.createElement("hr",{className:"linebreak"}))))),l.a.createElement("a",{href:"#myCarousel","data-slide":"prev",className:"carousel-control-prev"},l.a.createElement("span",{className:"carousel-control-prev-icon"})),l.a.createElement("a",{href:"#myCarousel","data-slide":"next",className:"carousel-control-next"},l.a.createElement("span",{className:"carousel-control-next-icon"}))))}}]),a}(n.Component)),de=function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Q,{path:"food",name:"menu_name",path_detail:"/menudetail/"}))}}]),a}(n.Component),ue=(t(118),function(e){function a(e){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).call(this,e))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col box"},l.a.createElement("div",{className:"desc--text"},"Choose our pre-select 3/5/7 days packages."),l.a.createElement("a",{href:"package",style:{color:"black"},className:"btn button--pack"},"choose your package")),l.a.createElement("div",{className:"col box"},l.a.createElement("div",{className:"desc--text"},"Create your own custom package with your satisfaction."),l.a.createElement("a",{href:"packagemanage",style:{color:"black"},className:"btn button--pack"},"create your own package"))))}}]),a}(n.Component)),he=(t(120),function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={isMenu:!0,isPackage:!1,isSnack:!1},t.changeRenderToMenu=t.changeRenderToMenu.bind(Object(L.a)(Object(L.a)(t))),t.changeRenderToPackage=t.changeRenderToPackage.bind(Object(L.a)(Object(L.a)(t))),t.changeRenderToSnack=t.changeRenderToSnack.bind(Object(L.a)(Object(L.a)(t))),t.setActiveButton=t.setActiveButton.bind(Object(L.a)(Object(L.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"changeRenderToMenu",value:function(){this.setState({isMenu:!0,isPackage:!1,isSnack:!1})}},{key:"changeRenderToPackage",value:function(){this.setState({isMenu:!1,isPackage:!0,isSnack:!1})}},{key:"changeRenderToSnack",value:function(){this.setState({isMenu:!1,isPackage:!1,isSnack:!0})}},{key:"setActiveButton",value:function(e){var a="btn button";return a+=e?" btn--active":""}},{key:"renderChoice",value:function(){return this.state.isMenu?l.a.createElement("div",null,l.a.createElement(de,null)):this.state.isPackage?l.a.createElement("div",null,l.a.createElement(ue,null)):this.state.isSnack?l.a.createElement("div",null,l.a.createElement(ee,null)):void 0}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"choice-box"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4 col-6"},l.a.createElement("img",{className:"img-choice",src:"../img/choice/choice_1.png"}),l.a.createElement("button",{className:this.setActiveButton(this.state.isMenu),onClick:this.changeRenderToMenu},"MENU")),l.a.createElement("div",{className:"col-md-4 col-6"},l.a.createElement("img",{className:"img-choice",src:"../img/choice/choice_2.png"}),l.a.createElement("button",{className:this.setActiveButton(this.state.isPackage),onClick:this.changeRenderToPackage},"PACKAGE")),l.a.createElement("div",{className:"col-md-4 col-6 center"},l.a.createElement("img",{className:"img-choice",src:"../img/choice/choice_3.png"}),l.a.createElement("button",{className:this.setActiveButton(this.state.isSnack),onClick:this.changeRenderToSnack},"SNACK")))),this.renderChoice())}}]),a}(n.Component)),pe=(t(123),function(e){function a(){var e;return Object(s.a)(this,a),(e=Object(o.a)(this,Object(m.a)(a).call(this))).state={menus:[],isLoaded:!1},e}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){T.bind(this,"menus","isLoaded","food")()}},{key:"render",value:function(){var e=this.state,a=e.menus;return e.isLoaded?a[0]&&a[1]&&a[2]&&a[3]?l.a.createElement("section",{className:"recommend__block"},l.a.createElement("p",{className:"txt__rec"},"Recommended"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3 col-md-6 col-6 nopadding"},l.a.createElement(V.a,{to:"/menudetail/"+a[1]._id},l.a.createElement("img",{className:"img-rec",src:a[1].img_url})),l.a.createElement("p",null,a[1].menu_name)),l.a.createElement("div",{className:"col-lg-3 col-md-6 col-6 nopadding"},l.a.createElement(V.a,{to:"/menudetail/"+a[1]._id},l.a.createElement("img",{className:"img-rec",src:a[3].img_url})),l.a.createElement("p",null,a[3].menu_name)),l.a.createElement("div",{className:"col-lg-3 col-md-6 col-6 nopadding"},l.a.createElement(V.a,{to:"/menudetail/"+a[1]._id},l.a.createElement("img",{className:"img-rec",src:a[2].img_url})),l.a.createElement("p",null,a[2].menu_name)),l.a.createElement("div",{className:"col-lg-3 col-md-6 col-6 nopadding"},l.a.createElement(V.a,{to:"/menudetail/"+a[1]._id},l.a.createElement("img",{className:"img-rec",src:a[0].img_url})),l.a.createElement("p",null,a[0].menu_name)))):l.a.createElement("div",null):l.a.createElement(l.a.Fragment,null)}}]),a}(n.Component)),Ee=(t(126),function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={bill:null,address:null,distance:null,deliveryFee:null,distSelected:!1,totalCost:null,isLoaded:!1,status:0},t.ddDOM=l.a.createRef(),t.calculateDeliveryFee=t.calculateDeliveryFee.bind(Object(L.a)(Object(L.a)(t))),t.updateBill=t.updateBill.bind(Object(L.a)(Object(L.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"updateBill",value:function(){var e=this,a=new FormData;a.append("distance",this.state.distance),a.append("deliveryFee",this.state.deliveryFee),a.append("distSelected",this.state.distSelected),a.append("totalCost",this.state.totalCost),f.a.put("api/bills/update/current",a).then(function(a){e.setState({status:a.data}),console.log("i'm in!!!!!!!")})}},{key:"componentDidMount",value:function(){var e=this;f.a.get("/api/bills/current").then(function(a){e.setState({bill:a.data})}).then(function(){console.log("whole bill: ",e.state.bill),console.log("order: ",e.state.bill.order)}).then(function(){f.a.get("/api/address/current").then(function(a){e.setState({address:a.data,isLoaded:!0})}).then(function(){console.log("address: ",e.state.address)})})}},{key:"componentDidUpdate",value:function(){if(this.state.isLoaded){var e=window.$;this.ddDOM=e(this.ddDOM.current),this.ddDOM.dropdown(),e(".dd__addr-choice").click(function(){var a=e(this).text();console.log("dd selected",a)}),console.log(this.ddDOM)}}},{key:"calculateDeliveryFee",value:function(e){var a=this.state.address[e].distance,t=2*(a/=1e3),n=this.state.bill.order.package_order;if(null!=n){var l,r=3;for(l=0;l<n.length;l++)n[l].package_id.type>r&&(r=n[l].package_id.type)}t=Math.floor(t*r);var c=Math.round(this.state.bill.order_cost+t);this.setState({distance:a,deliveryFee:t,distSelected:!0,totalCost:c})}},{key:"render",value:function(){var e=this,a=this.state,t=a.bill,n=a.address;return a.isLoaded?(console.log("here addr: ",n),console.log("here bill: ",t),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"container set-screen-payment"},l.a.createElement("div",{className:"box__content"},l.a.createElement("div",{className:"card card-form card__payment"},l.a.createElement("div",{className:"card-body"},l.a.createElement("h2",{className:"txt__title"},"Order Summary"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("p",null)),l.a.createElement("div",{className:"col col--middle"},l.a.createElement("p",null,"Amount")),l.a.createElement("div",{className:"col col--right"},l.a.createElement("p",null,"Price (Baht)"))),l.a.createElement("div",{className:"row"},t.order.food_order.map(function(e){return l.a.createElement("div",{className:"row",style:{width:"100%"}},l.a.createElement("div",{className:"col"},l.a.createElement("p",null,e.food_name)),l.a.createElement("div",{className:"col col--middle"},l.a.createElement("p",null,e.amount)),l.a.createElement("div",{className:"col col--right"},l.a.createElement("p",null,e.price)))}),t.order.snack_order.map(function(e){return l.a.createElement("div",{className:"row",style:{width:"100%"}},l.a.createElement("div",{className:"col"},l.a.createElement("p",null,e.snack_name)),l.a.createElement("div",{className:"col col--middle"},l.a.createElement("p",null,e.amount)),l.a.createElement("div",{className:"col col--right"},l.a.createElement("p",null,e.price)))}),t.order.package_order.map(function(e){return l.a.createElement("div",{className:"row",style:{width:"100%"}},l.a.createElement("div",{className:"col"},l.a.createElement("p",null,e.package_name)),l.a.createElement("div",{className:"col col--middle"},l.a.createElement("p",null,e.amount)),l.a.createElement("div",{className:"col col--right"},l.a.createElement("p",null,e.price)))})),l.a.createElement("br",null),l.a.createElement("p",null,"Choose Address"),l.a.createElement("div",{className:"dropdown box__addr"},l.a.createElement("button",{ref:this.ddDOM,className:"btn btn-block dropdown-toggle dd__addr",type:"button","data-toggle":"dropdown"},"Selected"),l.a.createElement("div",{className:"dropdown-menu btn-block"},n.map(function(a,t){return l.a.createElement("a",{key:t,className:"dropdown-item dd__addr-choice",onClick:e.calculateDeliveryFee.bind(e,t)},a.address)}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("p",null,"Food cost")),l.a.createElement("div",{className:"col col--middle"},l.a.createElement("p",null,t.order_cost)),l.a.createElement("div",{className:"col col--right"},l.a.createElement("p",null,"Baht"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("p",null,"Distance")),l.a.createElement("div",{className:"col col--middle"},l.a.createElement("p",null,this.state.distance)),l.a.createElement("div",{className:"col col--right"},l.a.createElement("p",null,"Kilometer"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("p",null,"Delivery Fee")),l.a.createElement("div",{className:"col col--middle"},l.a.createElement("p",null,this.state.deliveryFee)),l.a.createElement("div",{className:"col col--right"},l.a.createElement("p",null,"Baht"))),l.a.createElement("div",{className:"row txt__total"},l.a.createElement("div",{className:"col"},l.a.createElement("p",null,"Order Total")),l.a.createElement("div",{className:"col col--middle"},l.a.createElement("p",null,this.state.totalCost)),l.a.createElement("div",{className:"col col--right"},l.a.createElement("p",null,"Baht"))),l.a.createElement("div",{className:"row box__confirm",onClick:this.updateBill},l.a.createElement("a",{href:"/payment"},l.a.createElement("button",{type:"\u0e3a\u0e4abutton",className:"btn btn-lg button__confirm"},"Confirm Order"))))))))):l.a.createElement(l.a.Fragment,null)}}]),a}(n.Component)),ve=(t(129),function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).handleChange=t.handleChange.bind(Object(L.a)(Object(L.a)(t))),t.submitHandler=t.submitHandler.bind(Object(L.a)(Object(L.a)(t))),t.interval=setInterval(function(){return t.submitHandler()},1e3),t.state={inputField:t.props.amount},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"submitHandler",value:function(){this.props.handlerFromParant(this.state.inputField,this.props.price,this.props.id)}},{key:"handleChange",value:function(e){console.log("event"),this.setState({inputField:e.target.value})}},{key:"increment",value:function(){(function(e,a){f.a.put("/api/orders/increase/amount/"+e+"/"+a).then(function(e){console.log("increase",e.data)})}).bind(this,this.props.type_order,this.props.id)(),this.state.inputField+=1}},{key:"decrement",value:function(){(function(e,a){f.a.put("/api/orders/decrease/amount/"+e+"/"+a).then(function(e){console.log("decrease",e.data)})}).bind(this,this.props.type_order,this.props.id)(),this.state.inputField>1&&(this.state.inputField-=1)}},{key:"deleteOrder",value:function(){(function(e,a){f.a.delete("/api/orders/del/"+e+"/"+a).then(function(e){return console.log("delete order",e)})}).bind(this,this.props.type_order,this.props.id)(),this.state.inputField=0,this.forceUpdate()}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"cardcartbox"},l.a.createElement("hr",null),l.a.createElement("div",{className:"row rowcard"},l.a.createElement("div",{className:"col-md-2 d-none d-sm-block img__block"},l.a.createElement("img",{src:this.props.picture,width:"60%",className:"cardcart__image"})),l.a.createElement("div",{className:"col-md-3 col-7 menuname__block"},l.a.createElement("p",null,this.props.name)),l.a.createElement("div",{className:"col-md-1 col-5 cardcartbox--delete",onClick:this.deleteOrder.bind(this)},"DELETE"),l.a.createElement("div",{className:"col-md-3 col-8 editamount"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"minusbutton ",onClick:this.decrement.bind(this)},l.a.createElement("img",{src:"/img/cart/minus.png",width:"20px"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",placeholder:this.state.inputField,value:this.state.inputField,onChange:this.handleChange,style:{width:"3rem",height:"30px"}})),l.a.createElement("div",{className:"addbutton",onClick:this.increment.bind(this)},l.a.createElement("img",{src:"/img/cart/add.png",width:"20px"})))),l.a.createElement("div",{className:"col-md-3 col-3 cardcart__editamount__price"},l.a.createElement("div",{className:"menuprice"},l.a.createElement("p",null,this.props.price))))))}}]),a}(n.Component)),ge=(t(131),function(e){function a(){var e;return Object(s.a)(this,a),(e=Object(o.a)(this,Object(m.a)(a).call(this))).handleData=e.handleData.bind(Object(L.a)(Object(L.a)(e))),e.raw={},e.state={fromChild:"",order:null,isLoaded:!1},e.createCardCartFood=e.createCardCartFood.bind(Object(L.a)(Object(L.a)(e))),e.createCardCartSnack=e.createCardCartSnack.bind(Object(L.a)(Object(L.a)(e))),e.createCardPackage=e.createCardPackage.bind(Object(L.a)(Object(L.a)(e))),e.confirmButtonClicked=e.confirmButtonClicked.bind(Object(L.a)(Object(L.a)(e))),e}return Object(d.a)(a,e),Object(i.a)(a,[{key:"handleData",value:function(e,a,t){this.raw[t]=[e,a];var n=0;for(var l in this.raw)this.raw.hasOwnProperty(l)&&(n+=parseFloat(this.raw[l][0])*parseFloat(this.raw[l][1]));this.setState({fromChild:n.toString()})}},{key:"componentDidMount",value:function(){(function(e,a){var t=this;f.a.get("/api/orders/current").then(function(n){var l;t.setState((l={},Object(I.a)(l,e,n.data),Object(I.a)(l,a,!0),l))}).then(function(){console.log("order ",t.state.order)})}).bind(this,"order","isLoaded")()}},{key:"createCardCartFood",value:function(){var e=this;return this.state.order.food_order?this.state.order.food_order.map(function(a,t){return l.a.createElement(ve,{handlerFromParant:e.handleData,picture:a.food_id.img_url,name:a.food_name,price:a.price,amount:a.amount,id:a.food_id._id,type_order:"food"})}):l.a.createElement("div",null)}},{key:"createCardCartSnack",value:function(){var e=this;return this.state.order.snack_order?this.state.order.snack_order.map(function(a,t){return l.a.createElement(ve,{handlerFromParant:e.handleData,picture:a.snack_id.img_url,name:a.snack_name,price:a.price,amount:a.amount,id:a.snack_id._id,type_order:"snack"})}):l.a.createElement("div",null)}},{key:"createCardPackage",value:function(){var e=this;return this.state.order.package_order?this.state.order.package_order.map(function(a,t){return l.a.createElement(ve,{handlerFromParant:e.handleData,picture:"",name:a.package_name,price:a.price,amount:a.amount,id:a.package_id._id,type_order:"package"})}):l.a.createElement("div",null)}},{key:"confirmButtonClicked",value:function(){var e={order_id:this.state.order._id,totalprice:this.state.fromChild};(function(e){f.a.put("/api/orders/tobill",e).then(function(e){return console.log("add to bill",e)})}).bind(this,e)()}},{key:"render",value:function(){return this.state.isLoaded?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"set-screen-cart"},l.a.createElement("div",{className:"linkbutton"},l.a.createElement("div",{className:"row cart__menubar"},l.a.createElement("div",{className:"col-1"}),l.a.createElement("div",{className:"col-1"},l.a.createElement("a",{href:"/"},l.a.createElement("img",{src:"/img/cart/plan.png",alt:"plan icon",width:"50%"})),l.a.createElement("p",null,"PLAN")),l.a.createElement("div",{className:"col-1"},l.a.createElement("img",{src:"/img/cart/arrow.png",alt:"arrow icon",width:"20%"})),l.a.createElement("div",{className:"col-1"},l.a.createElement("img",{src:"/img/cart/cart.png",alt:"cart icon",width:"50%"}),l.a.createElement("p",null,"CART")),l.a.createElement("div",{className:"col-1"},l.a.createElement("img",{src:"/img/cart/arrow.png",alt:"arrow icon",width:"20%"})),l.a.createElement("div",{className:"col-1"},l.a.createElement("img",{src:"/img/cart/payment.png",alt:"payment icon",width:"50%"}),l.a.createElement("p",null,"PAYMENT")),l.a.createElement("div",{className:"col-1"},l.a.createElement("img",{src:"/img/cart/arrow.png",alt:"arrow icon",width:"20%"})),l.a.createElement("div",{className:"col-1"},l.a.createElement("img",{src:"/img/cart/delivery.png",alt:"delivery icon",width:"50%"}),l.a.createElement("p",null,"DELIVERY")),l.a.createElement("div",{className:"col-1"},l.a.createElement("img",{src:"/img/cart/arrow.png",alt:"arrow icon",width:"20%"})),l.a.createElement("div",{className:"col-1"},l.a.createElement("img",{src:"/img/cart/enjoy.png",alt:"enjoy icon",width:"50%"}),l.a.createElement("p",null,"ENJOY")))),l.a.createElement("div",{className:"cartbox"},l.a.createElement("div",{className:"header"},l.a.createElement("h4",null,"Cart")),l.a.createElement("div",{className:"subhead"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"}),l.a.createElement("div",{className:"col-md-3 col-6 amountzone"},"AMOUNT"),l.a.createElement("div",{className:"col-md-3 col-6"},"PRICE"))),l.a.createElement("div",null,this.createCardCartFood(),this.createCardCartSnack(),this.createCardPackage()),l.a.createElement("hr",null),l.a.createElement("div",null,l.a.createElement("div",{className:"total"},l.a.createElement("p",null,"TOTAL: ",this.state.fromChild)),l.a.createElement("a",{href:"/bill"},l.a.createElement("button",{className:"btn button--confirm",onClick:this.confirmButtonClicked},"CONFIRM")))))):l.a.createElement("div",{className:"loader"})}}]),a}(n.Component)),be=function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(J,{name:"snack_name",type:"SNACK",path_get_data:"snack/",path_to_edit:"editsnackdetail"}))}}]),a}(n.Component),fe=(t(133),function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={id:"",menu:{},menu_name:"",price:"",calories:"",protein:"",carbohydrate:"",fat:"",img_url:"",description:"",sodium:"",cholesterol:"",status:0,file:"",imagePreviewUrl:"",alreadyLoaded:!1},t.handleChange=t.handleChange.bind(Object(L.a)(Object(L.a)(t))),t.handleSubmit=t.handleSubmit.bind(Object(L.a)(Object(L.a)(t))),t.handleChangeImage=t.handleChangeImage.bind(Object(L.a)(Object(L.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){console.log("props",this.props);var e=window.location.href.split("/");T.bind(this,"menu","isLoaded",this.props.type+"/"+e[e.length-1])(),this.setState({id:e[e.length-1]})}},{key:"setMenu",value:function(){this.setState({name:this.state.menu[this.props.name],price:this.state.menu.price,calories:this.state.menu.calories,protein:this.state.menu.protein,carbohydrate:this.state.menu.carbohydrate,fat:this.state.menu.fat,img_url:"",description:this.state.menu.description,sodium:this.state.menu.sodium,cholesterol:this.state.menu.cholesterol,imagePreviewUrl:"\\"+this.state.menu.img_url,alreadyLoaded:!0})}},{key:"renderRedirect",value:function(){return window.location.href=this.props.redirect+this.state.id}},{key:"handleChange",value:function(e){this.setState(Object(I.a)({},e.target.name,e.target.value))}},{key:"handleChangeImage",value:function(e){var a=this,t=new FileReader,n=e.target.files[0];t.onloadend=function(){a.setState({img_url:n,imagePreviewUrl:t.result},function(){console.log("pic",a.state.profilepic)})},t.readAsDataURL(n)}},{key:"handleSubmit",value:function(e){var a=new FormData;a.append("img",this.state.img_url,this.state.img_url.name),a.append("img_url",this.state.menu.img_url),a.append(this.props.name,this.state.name),a.append("calories",this.state.calories),a.append("price",this.state.price),a.append("protein",this.state.protein),a.append("carbohydrate",this.state.carbohydrate),a.append("fat",this.state.fat),a.append("cholesterol",this.state.cholesterol),a.append("sodium",this.state.sodium),a.append("description",this.state.description),function(e,a,t){var n=this;f.a.put("/api/menus/"+e+"/edit/"+a,t).then(function(a){console.log("edit "+e,a)}).then(function(){console.log("redirect"),n.renderRedirect()})}.bind(this,this.props.type,this.state.id,a)(),e.preventDefault()}},{key:"render",value:function(){return this.state.isLoaded&&!this.state.alreadyLoaded&&this.setMenu(),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"all"},l.a.createElement("div",{className:"row menudetail__outside"},l.a.createElement("div",{className:"col-3 menudetail__homebutton"},l.a.createElement("img",{src:"/img/other/left-arrow.png",alt:"left arrow icon",height:"20px"}),l.a.createElement("a",{href:"/"},"BACK TO HOMEPAGE"))),l.a.createElement("form",{onSubmit:this.handleSubmit.bind(this)},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col menudetail__menuname"},l.a.createElement("input",{type:"text",name:"name",className:"form-control menudetail__menuname--right",placeholder:"Name",value:this.state.name,onChange:this.handleChange,style:{width:"30%"},required:!0}))),l.a.createElement("div",{className:"line"}),l.a.createElement("div",{className:"row menudetail__detail"},l.a.createElement("div",{className:"col-5"},l.a.createElement("img",{src:this.state.imagePreviewUrl,className:"editmenudetail__imgpreview"}),l.a.createElement("br",null),l.a.createElement("div",{className:"upload-btn-wrapper"},l.a.createElement("button",{className:"btn-upload"},"Change Picture"),l.a.createElement("input",{type:"file",name:"profilepic",onChange:this.handleChangeImage})),l.a.createElement("div",{className:"row justify-content-center"},l.a.createElement("button",{type:"submit",value:"submit",className:"menudetail__detail--addtocartbutton"},"SAVE CHANGE"))),l.a.createElement("div",{className:"col"},l.a.createElement("div",{className:"row menudetail_detail_description"},l.a.createElement("textarea",{type:"text",name:"description",className:"form-control",placeholder:"description",value:this.state.description,onChange:this.handleChange})),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-9 cal"},l.a.createElement("p",null,"CALORIES")),l.a.createElement("input",{type:"text",name:"calories",className:"form-control",placeholder:"calories g",value:this.state.calories,onChange:this.handleChange,style:{width:"20%"}})),l.a.createElement("div",{className:"row line"}),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-9"},l.a.createElement("p",null,"FAT")),l.a.createElement("input",{type:"text",name:"fat",className:"form-control",placeholder:"fat g",value:this.state.fat,onChange:this.handleChange,style:{width:"20%"}})),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-9"},l.a.createElement("p",null,"CHOLESTEROL")),l.a.createElement("input",{type:"text",name:"cholesterol",className:"form-control",placeholder:"cholesterol mg",value:this.state.cholesterol,onChange:this.handleChange,style:{width:"20%"}})),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-9"},l.a.createElement("p",null,"SODIUM")),l.a.createElement("input",{type:"text",name:"sodium",className:"form-control",placeholder:"sodium mg",value:this.state.sodium,onChange:this.handleChange,style:{width:"20%"}})),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-9"},l.a.createElement("p",null,"CARBOHYDRATE")),l.a.createElement("input",{type:"text",name:"carbohydrate",className:"form-control",placeholder:"carbohydrate g",value:this.state.carbohydrate,onChange:this.handleChange,style:{width:"20%"}})),l.a.createElement("div",{className:"row "},l.a.createElement("div",{className:"col-9"},l.a.createElement("p",null,"PROTEIN")),l.a.createElement("input",{type:"text",name:"protein",className:"form-control",placeholder:"protei gn",value:this.state.protein,onChange:this.handleChange,style:{width:"20%"}})),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-9"},l.a.createElement("p",null,"PRICE")),l.a.createElement("input",{type:"text",name:"price",className:"form-control",placeholder:"price THB",value:this.state.price,onChange:this.handleChange,style:{width:"20%"}})))))))}}]),a}(n.Component)),Ne=function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(fe,{name:"menu_name",type:"food",redirect:"/menudetail/"}))}}]),a}(n.Component),we=function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(fe,{name:"snack_name",type:"snack",redirect:"/snackdetail/"}))}}]),a}(n.Component),ye=(t(135),function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={profile:null},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.a.get("api/users/profile").then(function(a){e.setState({profile:a.data,isLoaded:!0})}).then(function(){console.log("order ",e.state.order)})}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("form",null,l.a.createElement("div",{className:" card payment__box__container"},l.a.createElement("strong",null,"PAYMENT DETAIL  "),l.a.createElement("br",null),l.a.createElement("div",{class:"row icons"},l.a.createElement("div",{className:"col-md-4 col-2"}),l.a.createElement("i",{className:"fa fa-cc-visa fa-2x col-md-1 col-2","aria-hidden":"true"}),l.a.createElement("i",{className:"fa fa-cc-mastercard fa-2x col-md-1 col-2","aria-hidden":"true"}),l.a.createElement("i",{className:"fa fa-cc-discover fa-2x col-md-1 col-2","aria-hidden":"true"}),l.a.createElement("i",{className:"fa fa-cc-amex fa-2x col-md-1 col-2","aria-hidden":"true"})),l.a.createElement("hr",null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},"CARD NUMBER",l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"col payment__box--position"},l.a.createElement("input",{type:"text",className:"form-control",placeholder:"card number",required:!0}))),"EXPIRAATION DATE",l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"col payment__box--position"},l.a.createElement("input",{type:"text",className:"form-control",placeholder:"MM/YY",required:!0}))),"CVC CODE",l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"col payment__box--position"},l.a.createElement("input",{type:"text",className:"form-control",placeholder:"cvc code",required:!0})))),l.a.createElement("div",{className:"col-6"},l.a.createElement("div",{className:"row"},"TOTAL PRICE"),l.a.createElement("div",{className:"row"},"Customer name"),l.a.createElement("div",{className:"row"},"ADDRESS"))),l.a.createElement("a",{href:"/"},l.a.createElement("button",{className:"btn button--confirm",onClick:this.confirmButtonClicked},"CONFIRM PAYMENT")))))}}]),a}(n.Component)),ke=(t(137),t(3)),Oe=t.n(ke),_e=(t(140),function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).divMap=l.a.createRef(),t.divSearchBox=l.a.createRef(),t.handleDataFromGmap=t.handleDataFromGmap.bind(Object(L.a)(Object(L.a)(t))),t.state={lat:null,lng:null,dest:null,dist:null},t}var t,n,r;return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e,a,t;window.lat=13.736717,window.lng=100.523186,window.stateChange=!1,window.initMap=this.initMap.bind(this),window.getPlaceId=this.getPlaceId.bind(this),window.getDistance=this.getDistance.bind(this),window.handleSubmit=this.handleSubmit.bind(this),window.handleDataFromGmap=this.handleDataFromGmap.bind(this),e="https://maps.googleapis.com/maps/api/js?key=AIzaSyBKOfI6E4o_jRc1K8qBb63RsUKwZAavGSs&libraries=places&callback=initMap",a=window.document.getElementsByTagName("script")[0],(t=window.document.createElement("script")).src=e,t.async=!0,a.parentNode.insertBefore(t,a)}},{key:"initMap",value:function(){window.myGMap=new window.google.maps.Map(this.divMap.current,{center:{lat:13.736717,lng:100.523186},zoom:13}),window.input=this.divSearchBox.current,window.autocomplete=new window.google.maps.places.Autocomplete(window.input),window.autocomplete.bindTo("bounds",window.myGMap),window.marker=new window.google.maps.Marker({position:new window.google.maps.LatLng(window.lat,window.lng),map:window.myGMap,draggable:!0}),window.infowindow=new window.google.maps.InfoWindow({maxWidth:180}),window.getPlaceId(),window.handleDataFromGmap(),window.autocomplete.addListener("place_changed",function(){window.onChangeAutoComp=!0;var e=window.autocomplete.getPlace();if(e.geometry){e.geometry.viewport?window.myGMap.fitBounds(e.geometry.viewport):(window.myGMap.setCenter(e.geometry.location),window.myGMap.setZoom(17)),window.lat=window.autocomplete.getPlace().geometry.location.lat(),window.lng=window.autocomplete.getPlace().geometry.location.lng();var a=new window.google.maps.LatLng(window.lat,window.lng);window.marker.setPosition(a),window.getPlaceId(),window.handleDataFromGmap()}else window.alert("No details available for input: '"+e.name+"'")}),window.marker.addListener("dragend",function(){window.lat=window.marker.getPosition().lat(),window.lng=window.marker.getPosition().lng(),window.getPlaceId(),window.getDistance(),window.handleDataFromGmap()}),window.marker.addListener("mouseover",function(){window.infowindow.open(window.myGMap,window.marker)}),window.marker.addListener("mouseout",function(){window.infowindow.close(window.myGMap,window.marker)})}},{key:"getDistance",value:(r=Object(ne.a)(te.a.mark(function e(){return te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.origin={lat:13.845955,lng:100.568674},window.dest={lat:window.marker.getPosition().lat(),lng:window.marker.getPosition().lng()},window.service=new window.google.maps.DistanceMatrixService,window.service.getDistanceMatrix({origins:[window.origin],destinations:[window.dest],travelMode:"DRIVING"},function(e,a){"OK"!==a?alert("Error was: "+a):(window.destAddr=e.destinationAddresses,window.distance=e.rows[0].elements[0].distance.value,window.duration=e.rows[0].elements[0].duration,console.log("get distance (m): ",window.distance))});case 4:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"getPlaceId",value:function(){window.geocoder=new window.google.maps.Geocoder,window.latlng={lat:parseFloat(window.lat),lng:parseFloat(window.lng)},window.geocoder.geocode({location:window.latlng},function(e,a){a===window.google.maps.GeocoderStatus.OK?e[1]?window.placeid=e[1].place_id:window.alert("No results found"):window.alert("Geocoder failed due to: "+a)}),setTimeout(function(){window.service=new window.google.maps.places.PlacesService(window.myGMap),window.service.getDetails({placeId:window.placeid},function(e){window.infowindow.setContent("<div><strong>"+e.name+"</strong>"+e.formatted_address+"</div>")})},1e3)}},{key:"handleSubmit",value:(n=Object(ne.a)(te.a.mark(function e(){return te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.lat=window.marker.getPosition().lat(),window.lng=window.marker.getPosition().lng(),this.props.handleFromParent(window.lat,window.lng,window.destAddr,window.distance);case 3:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"handleDataFromGmap",value:(t=Object(ne.a)(te.a.mark(function e(){var a;return te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=window.getDistance(),e.next=3,a;case 3:setTimeout(function(){window.handleSubmit()},1e3),console.log("func handleDataFromGmap worked");case 5:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"input-button "},l.a.createElement("div",{className:"center row"},l.a.createElement("input",{className:"form-control input-addr",ref:this.divSearchBox}))),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement("div",{className:"ggmap center",ref:this.divMap})))}}]),a}(n.Component));var je=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={first_name:"",last_name:"",email:"",user_name:"",password1:"",password2:"",phonenumber:"",address:{address:"",lat:"",lng:"",distance:null},status:{},errors:{}},t.handleChange=t.handleChange.bind(Object(L.a)(Object(L.a)(t))),t.handleSubmit=t.handleSubmit.bind(Object(L.a)(Object(L.a)(t))),t.handleData=t.handleData.bind(Object(L.a)(Object(L.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/")}},{key:"componentWillReceiveProps",value:function(e){e.errors&&(this.setState({errors:e.errors}),console.log("will recieve",e))}},{key:"handleChange",value:function(e){this.setState(Object(I.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var a={first_name:this.state.first_name,last_name:this.state.last_name,user_name:this.state.user_name,email:this.state.email,password1:this.state.password1,password2:this.state.password2,phonenumber:this.state.phonenumber,address:this.state.address};console.log(this.state.address),this.props.registerUser(a,this.props.history),e.preventDefault()}},{key:"handleData",value:function(e,a,t,n){var l=this;this.setState({address:{address:t[0],lat:e,lng:a,distance:n}},function(){console.log("reg destination: ",l.state.address.address),console.log("reg lat: ",l.state.address.lat),console.log("reg lng: ",l.state.address.lng),console.log("reg distance: ",l.state.address.distance)})}},{key:"render",value:function(){var e=this.state.errors;return l.a.createElement("div",{className:"set-screen"}," ",l.a.createElement("div",{className:"register-box"}," ",l.a.createElement("h2",null," SIGN UP "),l.a.createElement("br",null),l.a.createElement("form",{noValidate:!0,onSubmit:this.handleSubmit},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6 col-12"},l.a.createElement("div",{className:"form-left"}," ",l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"control-label text-form-left",htmlFor:"Firstname"},"Firstname*"),l.a.createElement("div",{className:"col"},l.a.createElement("input",{className:Oe()("form-control",{"is-invalid":e.first_name}),name:"first_name",type:"text",id:"Firstname",placeholder:"Firstname",onChange:this.handleChange,value:this.state.first_name}),e.first_name&&l.a.createElement("div",{className:"invalid-feedback"},e.first_name))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"control-label text-form-left",htmlFor:"Lastname"},"Lastname*"),l.a.createElement("div",{className:"col"},l.a.createElement("input",{className:Oe()("form-control",{"is-invalid":e.last_name}),type:"text",name:"last_name",id:"Lastname",placeholder:"Lastname",onChange:this.handleChange,value:this.state.last_name}),e.last_name&&l.a.createElement("div",{className:"invalid-feedback"},e.last_name))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"control-label text-form-left",htmlFor:"Password"},"Password*"),l.a.createElement("div",{className:"col"},l.a.createElement("input",{type:"password",className:Oe()("form-control",{"is-invalid":e.password1}),name:"password1",id:"Password",placeholder:"password must least 6 characters",onChange:this.handleChange,value:this.state.password1}),e.password1&&l.a.createElement("div",{className:"invalid-feedback"},e.password1))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"control-label text-form-left",htmlFor:"ConfirmPassword"},"Confirm Password*"),l.a.createElement("div",{className:"col"},l.a.createElement("input",{type:"password",className:Oe()("form-control",{"is-invalid":e.password2}),name:"password2",id:"ConfirmPassword",placeholder:"Comfirm Password must least 6 character",onChange:this.handleChange,value:this.state.password2}),e.password2&&l.a.createElement("div",{className:"invalid-feedback"},e.password2))))),l.a.createElement("div",{className:"col-md-6 col-12"},l.a.createElement("div",{className:"form-right"}," ",l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"control-label text-form-left",htmlFor:"Username"},"Username*"),l.a.createElement("div",{className:"col"},l.a.createElement("input",{type:"text",className:Oe()("form-control",{"is-invalid":e.user_name}),name:"user_name",id:"Username",placeholder:"Username",onChange:this.handleChange,value:this.state.user_name}),e.user_name&&l.a.createElement("div",{className:"invalid-feedback"},e.user_name))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"control-label text-form-left",htmlFor:"Email"},"E-mail*"),l.a.createElement("div",{className:"col"},l.a.createElement("input",{type:"email",className:Oe()("form-control",{"is-invalid":e.email}),name:"email",id:"Email",placeholder:"Email",onChange:this.handleChange,value:this.state.email}),e.email&&l.a.createElement("div",{className:"invalid-feedback"},e.email))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"control-label text-form-left",htmlFor:"PhoneNumber"},"Phone Number* \xa0\xa0"),l.a.createElement("div",{className:"col"},l.a.createElement("input",{type:"text",className:Oe()("form-control",{"is-invalid":e.phonenumber}),name:"phonenumber",id:"PhoneNumber",placeholder:"Phone number",onChange:this.handleChange,value:this.state.phonenumber}),e.phonenumber&&l.a.createElement("div",{className:"invalid-feedback"},e.phone)))))),l.a.createElement("div",null,"Shipping Address",l.a.createElement("div",{className:"address-box"},l.a.createElement(_e,{handleFromParent:this.handleData}))),l.a.createElement("br",null),l.a.createElement("button",{width:"auto",type:"submit",className:"btn button-confirm"}," CONFIRM"," "))))}}]),a}(n.Component),Ce=Object(E.b)(function(e){return{auth:e.auth,errors:e.errors}},{registerUser:w})(Object(R.a)(je)),De=(t(50),function(e){function a(e){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).call(this,e))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"btn-group btn-choice-group",role:"group","aria-label":"Choice Package"},[3,5,7].map(function(a,t){return l.a.createElement("button",{type:"button",className:"btn btn-choice-set",onClick:function(){return e.props.onSetDay(a)},key:t},a," DAYS")})))}}]),a}(n.Component)),Se=(t(37),t(146),function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"package-box"},l.a.createElement("div",{className:"set-screen-nopack"},"There is no package.")))}}]),a}(n.Component)),Fe=function(e){function a(e){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).call(this,e))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return console.log("props",this.props),l.a.createElement(V.a,{to:{pathname:this.props.to,state:{prevLocation:window.location.href}}},this.props.children)}}]),a}(n.Component),Pe=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={packages:[],isLoaded:!1},t.createDivPackage=t.createDivPackage.bind(Object(L.a)(Object(L.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){U.bind(this,"packages","isLoaded","system/"+this.props.path)()}},{key:"createDivPackage",value:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"set-each-package row"},l.a.createElement("div",{className:"col-sm-4"}),l.a.createElement("div",{className:"col-sm dis-grid"},l.a.createElement("div",null,l.a.createElement("p",{className:"name-each-pks"},e.name_package),l.a.createElement("p",null,e.description)),l.a.createElement(Fe,{to:"/"+this.props.path+"/"+e._id},l.a.createElement("button",{className:"btn view-pks"},"View Package")))))}},{key:"render",value:function(){var e=this;if(!this.state.isLoaded)return l.a.createElement("div",{className:"loader"});if(!this.state.packages[0])return l.a.createElement(Se,null);var a=this.state.packages.map(function(a,t){return l.a.createElement("div",{key:t},e.createDivPackage(a))});return console.log(Object(C.a)(this.state.packages.data)),l.a.createElement(l.a.Fragment,null,a)}}]),a}(n.Component),Me=function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Pe,{path:"3days"}))}}]),a}(n.Component),xe=function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Pe,{path:"5days"}))}}]),a}(n.Component),Ae=function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Pe,{path:"7days"}))}}]),a}(n.Component),Ie=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={pack:l.a.createElement(Me,null),day:3},t.dayComponents={3:Me,5:xe,7:Ae},t.setDay=t.setDay.bind(Object(L.a)(Object(L.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"setDay",value:function(e){this.setState({day:e})}},{key:"render",value:function(){var e=this.state.day,a=this.dayComponents[e];return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"set-screen-pack"},l.a.createElement("div",{className:"set-frame-pks"},l.a.createElement(De,{onSetDay:this.setDay}),l.a.createElement(a,null))))}}]),a}(n.Component),Le=(t(51),t(32)),Re=(t(150),function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={packages:{},daymeal:Object.assign({},t.props.menu_detail),length:t.props.day},t.compute=t.compute.bind(Object(L.a)(Object(L.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({daymeal:Object.assign({},e.menu_detail)},function(){})}},{key:"compute",value:function(e){for(var a=this.state.daymeal,t=0,n=0;n<this.state.length;n++)t=t+a[n][0][e]+a[n][1][e];return t/=this.state.length}},{key:"sumprice",value:function(e){for(var a=this.state.daymeal,t=0,n=0;n<this.state.length;n++)t=t+a[n][0][e]+a[n][1][e];return t}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"nutritionmanage-box"},"price: ",Math.round(.95*this.sumprice("price"))," BAHT ( \u0e25\u0e14\u0e08\u0e32\u0e01 ",this.sumprice("price"),")",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("p",{className:"nutrition-text"},"\u0e2a\u0e32\u0e23\u0e2d\u0e32\u0e2b\u0e32\u0e23\u0e40\u0e09\u0e25\u0e35\u0e48\u0e22\u0e15\u0e48\u0e2d\u0e27\u0e31\u0e19"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-7"},"CALORIES"),l.a.createElement("div",{className:" col-sm set-align"},Math.round(this.compute("calories"),2)," kCAL/day")),l.a.createElement("hr",null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-7"},l.a.createElement("p",null,"FAT")),l.a.createElement("div",{className:" col-sm set-align"},l.a.createElement("p",null,Math.round(this.compute("fat"),2)," g/day"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-7"},l.a.createElement("p",null,"CHOLESTEROL")),l.a.createElement("div",{className:" col-sm set-align"},l.a.createElement("p",null,Math.round(this.compute("cholesterol"),2)," g/day"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-7"},l.a.createElement("p",null,"SODIUM")),l.a.createElement("div",{className:" col-sm set-align"},l.a.createElement("p",null,Math.round(this.compute("sodium"))," g/day"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-7"},l.a.createElement("p",null,"CARBOHYDRATE")),l.a.createElement("div",{className:" col-sm set-align"},l.a.createElement("p",null,Math.round(this.compute("carbohydrate"))," g/day"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-7"},l.a.createElement("p",null,"PROTEIN")),l.a.createElement("div",{className:" col-sm set-align"},l.a.createElement("p",null,Math.round(this.compute("protein"))," g/day")))))}}]),a}(n.Component)),Te=function(e){function a(e){var t;Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={day_img:[],day_detail:[],sum_price:0,is_ready_to_show:[],click_show:!1,name_package:"",description:"",package_id:"",save:!1,path:""};var n=t.initDayImg.bind(Object(L.a)(Object(L.a)(t)),t.props.num_day,"day_img"),l=t.initReady.bind(Object(L.a)(Object(L.a)(t)),t.props.num_day,"is_ready_to_show"),r=t.initDetail.bind(Object(L.a)(Object(L.a)(t)),t.props.num_day,"day_detail");return n(),l(),r(),console.log("img_day",t.state.day_img),console.log("img_detail",t.state.day_detail),console.log("ready",t.state.ready),t.send3DaysPackage=t.sendPackage.bind(Object(L.a)(Object(L.a)(t))),t.handleChange=t.handleChange.bind(Object(L.a)(Object(L.a)(t))),t.setPath=t.setPath.bind(Object(L.a)(Object(L.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"initDayImg",value:function(e,a){for(var t=[l.a.createElement("img",{className:"card-img",src:"../img/package/blank.PNG",alt:"blank"}),l.a.createElement("img",{className:"card-img",src:"../img/package/blank.PNG",alt:"blank"})],n=0;n<e;n++)this.state[a].push(t)}},{key:"initReady",value:function(e,a){for(var t=[!1,!1],n=0;n<e;n++)this.state[a].push(t)}},{key:"initDetail",value:function(e,a){for(var t=[null,null],n=0;n<e;n++)this.state[a].push(t)}},{key:"handleChange",value:function(e){this.setState(Object(I.a)({},e.target.name,e.target.value))}},{key:"sendPackage",value:function(e){for(var a=0,t=0;t<this.props.num_day;t++)a+=this.state.day_detail[t][0].price+this.state.day_detail[t][1].price;for(var n=[],l=0;l<this.props.num_day;l++){var r={meal_1:this.state.day_detail[l][0],meal_2:this.state.day_detail[l][1]};n.push(r)}console.log(e+" package"),this.state.save&&"add"===e&&alert("your package is already save!");var c={package_id:this.state.package_id,name_package:this.state.name_package,description:this.state.description,type:3,day_meal:n,price:a};(function(e,a,t,n){var l=this;f.a.post("/api/packages/"+a,e).then(function(e){console.log("id",e.data.data.package_id),l.setState(Object(I.a)({},n,e.data.data.package_id)),"add"!=a||l.state[t]?"addcart"==a&&alert("Add to cart success!"):(console.log("save"),l.setState(Object(I.a)({},t,!0)),alert("Save Package Success!"))}).catch(function(e){console.log(e)})}).bind(this,c,e,"save","package_id")()}},{key:"checkReady",value:function(){for(var e=this,a=!0,t=0;t<this.props.num_day;t++)for(var n=0;n<2;n++)this.state.is_ready_to_show[t][n]||(a=!1);return console.log("ready",a),a?l.a.createElement("button",{className:"btn btn-shownutrition",onClick:function(){return e.setState({click_show:!0})}},"CLICK TO SHOW NUTRITION"):l.a.createElement("div",null)}},{key:"setMenuDrop",value:function(e,a,t,n,r,c){for(var s,i=[],o=[],m=[],d=0;d<this.props.num_day;d++)i.push([this.state[e][d][0],this.state[e][d][1]]),o.push([this.state[a][d][0],this.state[a][d][1]]),m.push([this.state[t][d][0],this.state[t][d][1]]);i[n][r]=l.a.createElement("div",{className:"hovereffect"},l.a.createElement("img",{className:"card-img",src:c.dragData.img_url,alt:c.dragData.menu_name}),l.a.createElement("div",{className:"overlay"},l.a.createElement("h2",null,c.dragData.menu_name))),o[n][r]=c.dragData,m[n][r]=!0,this.setState((s={},Object(I.a)(s,e,i),Object(I.a)(s,a,o),Object(I.a)(s,t,m),s)),console.log("img ",this.state.day_img),console.log("detail",this.state.day_detail),console.log("ready ",this.state.is_ready_to_show)}},{key:"createDropTarget",value:function(e,a){return l.a.createElement(Le.DropTarget,{targetKey:"menu",onHit:this.setMenuDrop.bind(this,"day_img","day_detail","is_ready_to_show",e,a)},this.state.day_img[e][a])}},{key:"createRowDay",value:function(e){return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col card-pack-img"},this.createDropTarget(e,0)),l.a.createElement("div",{className:"col card-pack-img"},this.createDropTarget(e,1)))}},{key:"setPath",value:function(e){this.setState({path:e})}},{key:"handleSubmit",value:function(e){var a=e.target;!1===a.checkValidity()?(e.preventDefault(),e.stopPropagation()):(e.preventDefault(),this.sendPackage(this.state.path)),a.classList.add("was-validated"),console.log("test: ",a)}},{key:"render",value:function(){for(var e=this,a=this.props.auth,t=a.isAuthenticated,n=a.user,r=l.a.createElement("div",null),c=l.a.createElement("div",{className:"row"},l.a.createElement("label",{className:"col-sm-4"},"Description:"),l.a.createElement("div",{className:"col-sm-6"},l.a.createElement("textarea",{className:"form-control",placeholder:"description",type:"text",name:"description",id:"description",onChange:this.handleChange,value:this.state.description}))),s=[],i=0;i<this.props.num_day;i+=2)this.props.num_day%2==1&&i==this.props.num_day-1?s[i]=l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-3-sm col-set"}),l.a.createElement("div",{className:"col-sm card-last-package "},"DAY "+(i+1),this.createRowDay(i)),l.a.createElement("div",{className:"col-3-sm col-set"})):s[i]=l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm card-package"},"DAY "+(i+1),this.createRowDay(i)),l.a.createElement("div",{className:"col-sm card-package"},"DAY "+(i+2),this.createRowDay(i+1)));return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"packagemanage-box "},s,this.checkReady(),this.state.click_show&&l.a.createElement(l.a.Fragment,null,l.a.createElement("form",{className:"needs-validation",noValidate:!0,onSubmit:this.handleSubmit.bind(this)},l.a.createElement("div",null,l.a.createElement("div",{className:"row"},l.a.createElement("label",{className:"col-sm-4"},"Package name:"),l.a.createElement("div",{className:"col-sm-6"},l.a.createElement("input",{className:"form-control",placeholder:"Please name your package before save",type:"text",name:"name_package",id:"name_package",onChange:this.handleChange,value:this.state.name_package,required:!0}),l.a.createElement("div",{class:"invalid-feedback"},"Please choose a username."))),l.a.createElement("br",null),l.a.createElement("div",null,t?r:"",n.type?c:"")),l.a.createElement("div",null,l.a.createElement(Re,{menu_detail:this.state.day_detail,day:this.props.num_day})),l.a.createElement("div",null,l.a.createElement("button",{className:"btn btn-shownutrition",onClick:function(){return e.setPath("addcart")}},"ADD TO CART"),l.a.createElement("button",{className:"btn btn-shownutrition",onClick:function(){return e.setPath("add")}},"SAVE PACKAGE"))))))}}]),a}(n.Component),Ue=Object(E.b)(function(e){return{auth:e.auth}})(Te),Ge=function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Ue,{num_day:3}))}}]),a}(n.Component),Be=function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Ue,{num_day:5}))}}]),a}(n.Component),He=function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Ue,{num_day:7}))}}]),a}(n.Component),Ke=(t(154),function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={menus:[],isLoaded:!1},t.createDivImage=t.createDivImage.bind(Object(L.a)(Object(L.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){T.bind(this,"menus","isLoaded","food")()}},{key:"createDivImage",value:function(e,a){var t=a;return t.length>17&&(t=a.substring(0,17)+"..."),l.a.createElement("figure",null,l.a.createElement("div",{className:"hovereffect"},l.a.createElement("img",{src:e,className:"menu--image",alt:a}),l.a.createElement("div",{className:"overlay"},l.a.createElement("h2",null,a))),l.a.createElement("figcaption",null,t))}},{key:"render",value:function(){var e=this,a=this.state.menus.map(function(e,a){return l.a.createElement(l.a.Fragment,{key:a},l.a.createElement("img",{src:e.img_url,className:"menu--image__drag",alt:e.menu_name}))}),t=this.state.menus.map(function(t,n){return l.a.createElement(l.a.Fragment,{key:n},l.a.createElement(Le.DragDropContainer,{dragData:t,targetKey:"menu",dragClone:"true",customDragElement:a[n]},e.createDivImage(t.img_url,t.menu_name)))}),n=[],r=[];return t.forEach(function(e,a){a%2===0?n.push(e):r.push(e)}),this.state.isLoaded?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"outside--box"},l.a.createElement("h4",{className:"menu--text"},"MENU"),l.a.createElement("div",{className:"row justify-content-end"},l.a.createElement("div",{className:"col"},n),l.a.createElement("div",{className:"col"},r)))):l.a.createElement("div",{className:"loader"})}}]),a}(n.Component)),Ye=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={pack:l.a.createElement(Ge,null),day:3},t.dayComponents={3:Ge,5:Be,7:He},t.setDay=t.setDay.bind(Object(L.a)(Object(L.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"setDay",value:function(e){this.setState({day:e})}},{key:"render",value:function(){var e=this.state.day,a=this.dayComponents[e];return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"set-screen-packagemanage"},l.a.createElement("div",{className:"set-frame-packagemanage"},l.a.createElement(De,{onSetDay:this.setDay}),l.a.createElement(a,null)),l.a.createElement(Ke,null)))}}]),a}(n.Component),qe=(t(157),function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={isLoaded:!1,currentUser:null},t.dropdownDOM=l.a.createRef(),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillReceiveProps",value:function(e){if(!e.auth.isAuthenticated)return this.props.history.push("/")}},{key:"componentDidMount",value:function(){if(!this.props.auth.isAuthenticated)return this.props.history.push("/");G.bind(this,"currentUser","isLoaded")()}},{key:"componentDidUpdate",value:function(){if(this.state.isLoaded){var e=window.$;this.dropdownDOM=e(this.dropdownDOM.current),this.dropdownDOM.dropdown(),e(".dd__profile-addr").click(function(){var a=e(this).text();console.log("dd selected",a)}),console.log(this.dropdownDOM)}}},{key:"render",value:function(){if(!this.state.isLoaded)return l.a.createElement(l.a.Fragment,null);console.log("....",this.state.currentUser);var e=this.state.currentUser;return l.a.createElement("div",{className:"set-screen"}," ",l.a.createElement("div",{className:"profile-box"},l.a.createElement("h2",null," PROFILE "),l.a.createElement("img",{className:"userpic",src:e.img_url,alt:"profile picture"}),l.a.createElement("div",{className:" addmargin row"},l.a.createElement("div",{className:"col-sm-6"},l.a.createElement("label",{htmlFor:"Firstname"},"Firstname:")),l.a.createElement("div",{className:"col-sm"},e.first_name)),l.a.createElement("div",{className:" addmargin row"},l.a.createElement("div",{className:"col-sm-6"},l.a.createElement("label",{htmlFor:"Lastname"},"Lastname:")),l.a.createElement("div",{className:"col-sm"},e.last_name)),l.a.createElement("div",{className:" addmargin row"},l.a.createElement("div",{className:"col-sm-6"},l.a.createElement("label",{htmlFor:"Username"},"Username:")),l.a.createElement("div",{className:"col-sm"},e.user_name)),l.a.createElement("div",{className:"addmargin row"},l.a.createElement("div",{className:"col-sm-6"},l.a.createElement("label",{htmlFor:"Email"},"E-mail:")),l.a.createElement("div",{className:"col"},e.email)),l.a.createElement("div",{className:" addmargin row"},l.a.createElement("div",{className:"col-sm-6"},l.a.createElement("label",{htmlFor:"PhoneNumber"},"Phone Number: ")),l.a.createElement("div",{className:"col"},e.phonenumber)),l.a.createElement("div",{className:" row"},l.a.createElement("div",{className:"col-sm-6"},l.a.createElement("label",{htmlFor:"PhoneNumber"},"Address: ")),l.a.createElement("div",{className:"col"},l.a.createElement("div",{class:"dropdown"},l.a.createElement("button",{ref:this.dropdownDOM,class:"btn btn-secondary dropdown-toggle addr-dropdown",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Address"),l.a.createElement("div",{class:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},l.a.createElement("a",{class:"dropdown-item dd__profile-addr"},e.address[0].address),l.a.createElement("a",{class:"dropdown-item"},"Address 2"),l.a.createElement("a",{class:"dropdown-item"},"Add Address"))))),l.a.createElement("br",null),l.a.createElement("a",{href:"/editprofile"},l.a.createElement("button",{width:"auto",type:"submit",className:"btn button-confirm"}," ","EDIT PROFILE"," "))))}}]),a}(n.Component)),ze=Object(E.b)(function(e){return{auth:e.auth,errors:e.errors}},{registerUser:w})(Object(R.a)(qe)),Ve=(t(160),function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"footer"},l.a.createElement("div",{className:"text-left"},l.a.createElement("p",{className:"p1"},"PintoGoGo"),l.a.createElement("p",{className:"p2"},"Welcome to PintoGoGo. Here you can find a lot of quality foods. Have a good meal.")),l.a.createElement("div",{className:"topright"},l.a.createElement("a",{className:"link",href:"/"},"MENU")," ",l.a.createElement("a",{className:"link",href:"/package"},"PACKAGE")," ",l.a.createElement("a",{className:"link",href:"/"},"SNACK")),l.a.createElement("hr",null),l.a.createElement("div",{className:"bottomright"},l.a.createElement("p",null," Copyright 2018\xa9 PintoGoGo Created by Pinto Team")))}}]),a}(n.Component)),We=(t(163),function(e){function a(){var e;return Object(s.a)(this,a),(e=Object(o.a)(this,Object(m.a)(a).call(this))).state={isLoaded:!1,package:[],daymeal:[]},e.compute=e.compute.bind(Object(L.a)(Object(L.a)(e))),e}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){console.log("arrive nutrition");var e=window.location.href.split("/");U.bind(this,"packages","isLoaded",e[e.length-1])()}},{key:"compute",value:function(e){for(var a=this.state.daymeal,t=0,n=0;n<a.length;n++)t=t+a[n].meal_1[e]+a[n].meal_2[e];return t/=a.length}},{key:"render",value:function(){var e=this.state,a=e.packages;e.daymeal;return e.isLoaded?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"nutrition-box"},l.a.createElement("p",null,"price: ",a[0].price," BAHT",l.a.createElement("br",null),"( \u0e25\u0e14\u0e08\u0e32\u0e01"," ",Math.round(100*a[0].price/95,2)," ",")"),l.a.createElement("div",{className:"description"},a[0].description),l.a.createElement("p",{className:"nutrition-text"},"\u0e2a\u0e32\u0e23\u0e2d\u0e32\u0e2b\u0e32\u0e23\u0e40\u0e09\u0e25\u0e35\u0e48\u0e22\u0e15\u0e48\u0e2d\u0e27\u0e31\u0e19"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},"CALORIES"),l.a.createElement("div",{className:"col"},Math.round(this.compute("calories"),2)," kCAL/day")),l.a.createElement("hr",null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},l.a.createElement("p",null,"FAT")),l.a.createElement("div",{className:"col"},l.a.createElement("p",null,Math.round(this.compute("fat"),2)," g/day"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},l.a.createElement("p",null,"CHOLESTEROL")),l.a.createElement("div",{className:"col"},l.a.createElement("p",null,Math.round(this.compute("cholesterol"),2)," g/day"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},l.a.createElement("p",null,"SODIUM")),l.a.createElement("div",{className:"col"},l.a.createElement("p",null,Math.round(this.compute("sodium"),2)," g/day"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},l.a.createElement("p",null,"CARBOHYDRATE")),l.a.createElement("div",{className:"col"},l.a.createElement("p",null,Math.round(this.compute("carbohydrate"),2)," g/day"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},l.a.createElement("p",null,"PROTEIN")),l.a.createElement("div",{className:"col"},l.a.createElement("p",null,Math.round(this.compute("protein"),2)," g/day"))))):l.a.createElement(l.a.Fragment,null)}}]),a}(n.Component)),Je=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={packages:[],isLoaded:!1},t.addToCart=t.addToCart.bind(Object(L.a)(Object(L.a)(t))),console.log("props",t.props),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){console.log("arrive");var e=window.location.href.split("/");U.bind(this,"packages","isLoaded",e[e.length-1])()}},{key:"addToCart",value:function(){console.log("add pack");var e={package_id:this.state.packages[0]._id,package_name:this.state.packages[0].name_package,price:this.state.packages[0].price};B.bind(this,"package",e)()}},{key:"componentDidUpdate",value:function(){(0,window.$)('[data-toggle="tooltip"]').tooltip()}},{key:"createDivHover",value:function(e,a,t){return l.a.createElement("div",{className:"col card-pack-img hovereffect"},l.a.createElement("img",{className:"card-img img-responsive",src:"\\"+e[0].day_meal[a]["meal_"+t].img_url}),l.a.createElement("div",{className:"overlay"},l.a.createElement("h2",null,e[0].day_meal[a]["meal_"+t].menu_name)))}},{key:"render",value:function(){var e=this.state,a=e.packages,t=e.isLoaded,n=[];if(t)for(var r=0,c=0;c<this.props.num_day;c+=2)this.props.num_day%2==1&&c==this.props.num_day-1?n[c]=l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-3-sm col-set"}),l.a.createElement("div",{className:"col-sm card-last-package "},"DAY"+(c+1),l.a.createElement("div",{className:"row"},this.createDivHover(a,r+1,1),this.createDivHover(a,r+1,2))),l.a.createElement("div",{className:"col-3-sm col-set"})):n[c]=l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm card-package"},"DAY "+(c+1),l.a.createElement("div",{className:"row"},this.createDivHover(a,r,1),this.createDivHover(a,r,2))),l.a.createElement("div",{className:"col-sm card-package"},"DAY "+(c+2),l.a.createElement("div",{className:"row"},this.createDivHover(a,r+1,1),this.createDivHover(a,r+1,2)))),r+=1;return t?a[0]?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"set-screen-pack"},l.a.createElement("div",{className:"set-frame-each-pks"},l.a.createElement("div",{className:"backtopks row"},l.a.createElement("img",{src:"/img/other/left-arrow.png",height:"25px"}),l.a.createElement("a",{href:this.props.location.prevLocation},"BACK")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-8"},l.a.createElement("div",{className:"package-box "},l.a.createElement("div",{className:"name-pks"},a[0].name_package),n,l.a.createElement("button",{className:"btn btn-set",onClick:this.addToCart,"data-toggle":"tooltip","data-placement":"top",title:"HAVE A GOOD MEAL :)"}," ","Add to cart"," "))),l.a.createElement("div",{className:"col-md"},l.a.createElement(We,null)))))):(console.log("in no pack"),l.a.createElement(Se,null)):l.a.createElement("div",{className:"loader"})}}]),a}(n.Component),$e=function(e){function a(e){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).call(this,e))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Je,{num_day:3,location:this.props.location.state}))}}]),a}(n.Component),Ze=function(e){function a(e){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).call(this,e))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Je,{num_day:5,location:this.props.location.state}))}}]),a}(n.Component),Xe=function(e){function a(e){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).call(this,e))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Je,{num_day:7,location:this.props.location.state}))}}]),a}(n.Component),Qe=(t(167),function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={packages:[],isLoaded:!1},t.createDivPackage=t.createDivPackage.bind(Object(L.a)(Object(L.a)(t))),t.deleteFromDb=t.deleteFromDb.bind(Object(L.a)(Object(L.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"deleteFromDb",value:function(e){H.bind(this,"package",e._id)()}},{key:"componentDidMount",value:function(){U.bind(this,"packages","isLoaded","user/all")()}},{key:"createDivPackage",value:function(e){var a=this,t="/"+e.type+"days/";return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"set-each-mypackage row"},l.a.createElement("div",{className:"col-sm-4"},l.a.createElement("img",{className:"img-mypack",src:e.day_meal[0].meal_1.img_url})),l.a.createElement("div",{className:"col-sm"},l.a.createElement("div",{className:"detail"},l.a.createElement("div",{className:"name-each-mypks"},e.name_package),l.a.createElement("p",null,e.type," day package")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm"},l.a.createElement(Fe,{to:t+e._id},l.a.createElement("button",{className:"btn view-mypks"},"View Package"))),l.a.createElement("div",{className:"col-sm"},l.a.createElement("button",{className:"btn view-mypks",onClick:function(){return a.deleteFromDb(e)}},"Delete Package"))))))}},{key:"render",value:function(){var e=this;if(!this.state.isLoaded)return l.a.createElement("div",{className:"loader"});if(!this.state.packages[0])return l.a.createElement("div",{className:"set-screen-mypack"},l.a.createElement("div",{className:"set-frame-mypks"},l.a.createElement("h3",null,"My Package"),l.a.createElement("div",{className:"set-each-mypackage"},"You have no package.",l.a.createElement("br",null),l.a.createElement("a",{href:"/packagemanage"},l.a.createElement("img",{src:"img/package/add-pack.png",className:"addpack",alt:"add package",width:"100px"})),l.a.createElement("br",null),l.a.createElement("a",{href:"/packagemanage"},l.a.createElement("button",{className:"btn view-mypks"},"Try create your own package")))));var a=this.state.packages.map(function(a,t){return l.a.createElement("div",{key:t},e.createDivPackage(a))});return console.log(Object(C.a)(this.state.packages.data)),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"set-screen-mypack"},l.a.createElement("div",{className:"set-frame-mypks"},l.a.createElement("h3",null,"My Package"),a)))}}]),a}(n.Component)),ea=(t(169),function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={first_name:"",last_name:"",email:"",phonenumber:"",profilepic:null,imagePreviewUrl:null,checkimg:null,errors:{},lat:[],lng:[],dest:[],dist:[],isLoaded:!1,setLoaded:!1,alreadyLoaded:!0,currentUser:null},t.handleChange=t.handleChange.bind(Object(L.a)(Object(L.a)(t))),t.handleSubmit=t.handleSubmit.bind(Object(L.a)(Object(L.a)(t))),t.handleChangeImage=t.handleChangeImage.bind(Object(L.a)(Object(L.a)(t))),t.setUser=t.setUser.bind(Object(L.a)(Object(L.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){if(!this.props.auth.isAuthenticated)return this.props.history.push("/");G.bind(this,"currentUser","isLoaded")()}},{key:"setUser",value:function(){this.setState({first_name:this.state.currentUser.first_name,last_name:this.state.currentUser.last_name,email:this.state.currentUser.email,phonenumber:this.state.currentUser.phonenumber,imagePreviewUrl:this.state.currentUser.img_url,checkimg:this.state.currentUser.img_url,setLoaded:!0,alreadyLoaded:!1})}},{key:"handleChange",value:function(e){this.setState(Object(I.a)({},e.target.name,e.target.value))}},{key:"handleChangeImage",value:function(e){var a=this,t=new FileReader,n=e.target.files[0];t.onloadend=function(){a.setState({profilepic:n,imagePreviewUrl:t.result},function(){console.log("pic",a.state.profilepic)})},t.readAsDataURL(n)}},{key:"componentWillReceiveProps",value:function(e){e.errors&&(this.setState({errors:e.errors}),console.log("will recieve",e))}},{key:"handleSubmit",value:function(e){var a=new FormData;this.state.imagePreviewUrl!=this.state.checkimg?a.append("img",this.state.profilepic,this.state.profilepic.name):a.append("img_url",this.state.imagePreviewUrl),a.append("first_name",this.state.first_name),a.append("last_name",this.state.last_name),a.append("email",this.state.email),a.append("phonenumber",this.state.phonenumber),console.log(a),this.props.editProfile(a,this.props.history),e.preventDefault()}},{key:"render",value:function(){if(this.state.isLoaded&&this.state.alreadyLoaded&&this.setUser(),!this.state.setLoaded)return l.a.createElement("div",{className:"loader"});var e=this.state.errors,a=this.state.currentUser;return l.a.createElement("div",{className:"set-screen"}," ",l.a.createElement("div",{className:"editprofile-box"},l.a.createElement("form",{noValidate:!0,onSubmit:this.handleSubmit},l.a.createElement("h2",null," PROFILE "),l.a.createElement("div",{className:"center"},l.a.createElement("img",{className:"userpic-edit",src:this.state.imagePreviewUrl}),l.a.createElement("br",null),l.a.createElement("div",{className:"upload-btn-wrapper"},l.a.createElement("button",{className:"btn-upload"},"Change Picture"),l.a.createElement("input",{type:"file",name:"profilepic",onChange:this.handleChangeImage}))),l.a.createElement("div",{className:" addmargin row"},l.a.createElement("div",{className:"col-sm-6"},l.a.createElement("label",{htmlFor:"Firstname"},"Firstname:")),l.a.createElement("div",{className:"col-sm"},l.a.createElement("input",{className:Oe()("form-control",{"is-invalid":e.first_name}),name:"first_name",type:"text",id:"Firstname",placeholder:"Firstname",onChange:this.handleChange,value:this.state.first_name}),e.first_name&&l.a.createElement("div",{className:"invalid-feedback"},e.first_name))),l.a.createElement("div",{className:" addmargin row"},l.a.createElement("div",{className:"col-sm-6"},l.a.createElement("label",{htmlFor:"Lastname"},"Lastname:")),l.a.createElement("div",{className:"col-sm"},l.a.createElement("input",{className:Oe()("form-control",{"is-invalid":e.last_name}),type:"text",name:"last_name",id:"Lastname",placeholder:"Lastname",onChange:this.handleChange,value:this.state.last_name}),e.last_name&&l.a.createElement("div",{className:"invalid-feedback"},e.last_name))),l.a.createElement("div",{className:" addmargin row"},l.a.createElement("div",{className:"col-sm-6"},l.a.createElement("label",{htmlFor:"Username"},"Username:")),l.a.createElement("div",{className:"col-sm"},a.user_name)),l.a.createElement("div",{className:" addmargin row"},l.a.createElement("div",{className:"col-sm-6"},l.a.createElement("label",{htmlFor:"Email"},"E-mail:")),l.a.createElement("div",{className:"col"},l.a.createElement("input",{type:"email",className:Oe()("form-control",{"is-invalid":e.email}),name:"email",id:"Email",placeholder:"Email",onChange:this.handleChange,value:this.state.email}),e.email&&l.a.createElement("div",{className:"invalid-feedback"},e.email))),l.a.createElement("div",{className:" addmargin row"},l.a.createElement("div",{className:"col-sm-6"},l.a.createElement("label",{htmlFor:"PhoneNumber"},"Phone Number:")),l.a.createElement("div",{className:"col"},l.a.createElement("input",{type:"text",className:Oe()("form-control",{"is-invalid":e.phonenumber}),name:"phonenumber",id:"PhoneNumber",placeholder:"Phone number",onChange:this.handleChange,value:this.state.phonenumber}),e.phonenumber&&l.a.createElement("div",{className:"invalid-feedback"},e.phonenumber))),l.a.createElement("div",{className:" row"},l.a.createElement("div",{className:"col-sm-6"},l.a.createElement("label",{htmlFor:"PhoneNumber"},"Address:")),l.a.createElement("div",{className:"col"},l.a.createElement("div",{className:"dropdown"},l.a.createElement("button",{className:"btn btn-secondary dropdown-toggle addr-dropdown",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Address"),l.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},l.a.createElement("a",{className:"dropdown-item",href:"#"},a.address[0].address),l.a.createElement("a",{className:"dropdown-item",href:"#"},"Address 2"),l.a.createElement("a",{className:"dropdown-item",href:"#"},"Add Address"))))),l.a.createElement("br",null),l.a.createElement("button",{width:"auto",type:"submit",className:"btn button-confirm"}," ","Submit"," "))))}}]),a}(n.Component)),aa=Object(E.b)(function(e){return{auth:e.auth,errors:e.errors}},{editProfile:function(e,a){return function(t){f.a.put("api/users/edit/profile",e).then(function(e){return a.push("/profile")}).catch(function(e){return t({type:"GET_ERRORS",payload:e.response.data})})}}})(Object(R.a)(ea)),ta=function(e){function a(){var e;return Object(s.a)(this,a),(e=Object(o.a)(this,Object(m.a)(a).call(this))).state={user_name:"",password:"",errors:{}},e.onChange=e.onChange.bind(Object(L.a)(Object(L.a)(e))),e.onSubmit=e.onSubmit.bind(Object(L.a)(Object(L.a)(e))),e}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onResize,!1),this.props.auth.isAuthenticated&&this.props.history.push("/")}},{key:"componentWillReceiveProps",value:function(e){e.auth.isAuthenticated&&this.props.history.push("/"),e.errors&&this.setState({errors:e.errors})}},{key:"onResize",value:function(e){console.log("".concat(e.target.innerWidth," ").concat(e.target.innerHeight))}},{key:"onChange",value:function(e){this.setState(Object(I.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var a={user_name:this.state.user_name,password:this.state.password};this.props.loginUser(a)}},{key:"render",value:function(){var e=this.state.errors;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"login__text"},"LOGIN"),l.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},l.a.createElement("div",{className:"form-group col"},l.a.createElement("input",{className:Oe()("form-control",{"is-invalid":e.user_name}),id:"username",name:"user_name",type:"text",placeholder:"username",value:this.state.user_name,onChange:this.onChange}),e.user_name&&l.a.createElement("div",{className:"invalid-feedback"},e.user_name)),l.a.createElement("div",{className:"form-group col"},l.a.createElement("input",{className:Oe()("form-control",{"is-invalid":e.password}),id:"password",name:"password",type:"password",placeholder:"password",value:this.state.password,onChange:this.onChange}),e.password&&l.a.createElement("div",{className:"invalid-feedback"},e.password)),l.a.createElement("div",null,l.a.createElement("button",{type:"submit",className:"submit__login--button"},"LOGIN"))))}}]),a}(n.Component),na=Object(E.b)(function(e){return{auth:e.auth,errors:e.errors}},{loginUser:function(e){return function(a){f.a.post("/api/users/login",e).then(function(e){var t=e.data.token;localStorage.setItem("jwtToken",t),N(t);var n=g()(t);a(y(n))}).catch(function(e){a({type:"GET_ERRORS",payload:e.response.data})})}}})(Object(R.a)(ta)),la=(t(172),t(175),function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"login__box__container"},l.a.createElement("div",{className:"login__box"},l.a.createElement("img",{className:"logo",src:"img/login/icon.png"}),l.a.createElement("div",{className:"login__input"},l.a.createElement(na,null)))))}}]),a}(n.Component)),ra=function(){return[l.a.createElement(me,null),l.a.createElement(pe,null),l.a.createElement(he,null)]},ca=function(){return l.a.createElement(A.StripeProvider,{apiKey:"pk_test_os3uf16y5tFa5WVqnqNPNaJk"},l.a.createElement("div",{className:"example"},l.a.createElement("h1",null,"React Stripe Elements Example"),l.a.createElement(A.Elements,null,l.a.createElement(re,null))))};if(localStorage.jwtToken){N(localStorage.jwtToken);var sa=g()(localStorage.jwtToken);x.dispatch(y(sa));var ia=Date.now()/1e3;sa.exp<ia&&(x.dispatch(k()),window.location.href="/login")}var oa=function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(E.a,{store:x},l.a.createElement(u.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(oe,null),l.a.createElement(h.a,null,l.a.createElement(p.a,{exact:!0,path:"/",component:ra}),l.a.createElement(p.a,{path:"/payment",component:ca}),l.a.createElement(p.a,{path:"/add/menu",component:q}),l.a.createElement(p.a,{path:"/add/snack",component:z}),l.a.createElement(p.a,{path:"/show/menu",component:de}),l.a.createElement(p.a,{path:"/show/snack",component:ee}),l.a.createElement(p.a,{path:"/register",component:Ce}),l.a.createElement(p.a,{path:"/login",component:la}),l.a.createElement(p.a,{path:"/package",component:Ie}),l.a.createElement(p.a,{path:"/packagemanage",component:Ye}),l.a.createElement(p.a,{path:"/profile",component:ze}),l.a.createElement(p.a,{path:"/editprofile",component:aa}),l.a.createElement(p.a,{path:"/cart",component:ge}),l.a.createElement(p.a,{path:"/payment2",component:ye}),l.a.createElement(p.a,{path:"/menudetail",component:$}),l.a.createElement(p.a,{path:"/3days",component:$e}),l.a.createElement(p.a,{path:"/5days",component:Ze}),l.a.createElement(p.a,{path:"/7days",component:Xe}),l.a.createElement(p.a,{path:"/mypackage",component:Qe}),l.a.createElement(p.a,{path:"/snackdetail",component:be}),l.a.createElement(p.a,{path:"/editmenudetail",component:Ne}),l.a.createElement(p.a,{path:"/editsnackdetail",component:we}),l.a.createElement(p.a,{paht:"/bill",component:Ee}),l.a.createElement(p.a,{path:"*",component:ce})),l.a.createElement(Ve,null))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(oa,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},37:function(e,a,t){},50:function(e,a,t){},51:function(e,a,t){},58:function(e,a,t){e.exports=t(178)},63:function(e,a,t){},68:function(e,a,t){},97:function(e,a,t){}},[[58,2,1]]]);
//# sourceMappingURL=main.7536a01c.chunk.js.map